import{s as A,e as D,b as H,c as E,f as I,h as B,d as y,r as u,i as G,k as v,m as K,o as L}from"../chunks/scheduler.C7Xo_3aa.js";import{S as Q,i as R,c as P,a as S,m as T,t as h,b,e as z,d as V,g as C}from"../chunks/index.NYh16Rov.js";import{e as O}from"../chunks/each.DGNUWULW.js";import{B as X}from"../chunks/BlogCard.N-a1nlCN.js";import{n as q}from"../chunks/not.u4UXoo5E.js";import{T as U}from"../chunks/TopBar.D3EyIrA2.js";import{P as W}from"../chunks/Path.BoLg3_LT.js";function F(m,t,r){const e=m.slice();return e[7]=t[r],e}function J(m){let t,r;return t=new X({props:{makeNew:!0,uploadHandler:m[4],cancelHandler:m[5]}}),{c(){P(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,l){T(t,e,l),r=!0},p(e,l){const s={};l&2&&(s.uploadHandler=e[4]),l&2&&(s.cancelHandler=e[5]),t.$set(s)},i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){b(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function M(m){let t,r;return t=new X({props:{title:m[7].title,date:new Date(m[7].date),details:m[7].blogDetails,url:"https://echo-dentists.s3.me-central-1.amazonaws.com/blogs/"+m[7].blogID,cancelHandler:m[6]}}),{c(){P(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,l){T(t,e,l),r=!0},p(e,l){const s={};l&1&&(s.title=e[7].title),l&1&&(s.date=new Date(e[7].date)),l&1&&(s.details=e[7].blogDetails),l&1&&(s.url="https://echo-dentists.s3.me-central-1.amazonaws.com/blogs/"+e[7].blogID),l&2&&(s.cancelHandler=e[6]),t.$set(s)},i(e){r||(h(t.$$.fragment,e),r=!0)},o(e){b(t.$$.fragment,e),r=!1},d(e){V(t,e)}}}function Y(m){let t,r,e,l,s,_,i,w,k,g,$;r=new U({}),s=new W({props:{links:[{link:"/",txt:"Home"},{link:"/blogs",txt:"Blogs"}]}});let o=m[1]&&J(m),d=O(m[0]),a=[];for(let n=0;n<d.length;n+=1)a[n]=M(F(m,d,n));const N=n=>b(a[n],1,1,()=>{a[n]=null});return{c(){t=D("div"),P(r.$$.fragment),e=H(),l=D("div"),P(s.$$.fragment),_=H(),i=D("div"),w=D("div"),k=H(),o&&o.c(),g=H();for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){t=E(n,"DIV",{style:!0});var c=I(t);S(r.$$.fragment,c),e=B(c),l=E(c,"DIV",{style:!0});var f=I(l);S(s.$$.fragment,f),f.forEach(y),_=B(c),i=E(c,"DIV",{style:!0});var p=I(i);w=E(p,"DIV",{style:!0}),I(w).forEach(y),k=B(p),o&&o.l(p),g=B(p);for(let j=0;j<a.length;j+=1)a[j].l(p);p.forEach(y),c.forEach(y),this.h()},h(){u(l,"width","100%"),u(l,"display","inline-table"),u(l,"margin","auto"),u(l,"margin-top","141px"),u(w,"margin-top","120px"),u(i,"display","flex"),u(i,"justify-content","center"),u(i,"flex-direction","column"),u(i,"gap","40px"),u(i,"align-items","center"),u(i,"justify-content","center"),u(i,"width","100%"),u(i,"display","flex"),u(i,"flex-direction","column"),u(i,"align-items","center"),u(t,"width","100vw")},m(n,c){G(n,t,c),T(r,t,null),v(t,e),v(t,l),T(s,l,null),v(t,_),v(t,i),v(i,w),v(i,k),o&&o.m(i,null),v(i,g);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,null);$=!0},p(n,[c]){if(n[1]?o?(o.p(n,c),c&2&&h(o,1)):(o=J(n),o.c(),h(o,1),o.m(i,g)):o&&(C(),b(o,1,1,()=>{o=null}),z()),c&3){d=O(n[0]);let f;for(f=0;f<d.length;f+=1){const p=F(n,d,f);a[f]?(a[f].p(p,c),h(a[f],1)):(a[f]=M(p),a[f].c(),h(a[f],1),a[f].m(i,null))}for(C(),f=d.length;f<a.length;f+=1)N(f);z()}},i(n){if(!$){h(r.$$.fragment,n),h(s.$$.fragment,n),h(o);for(let c=0;c<d.length;c+=1)h(a[c]);$=!0}},o(n){b(r.$$.fragment,n),b(s.$$.fragment,n),b(o),a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)b(a[c]);$=!1},d(n){n&&y(t),V(r),V(s),o&&o.d(),K(a,n)}}}function Z(m,t,r){async function e(g,$,o){const d=await fetch("http://3.29.235.228:3000/api/"+g,{method:"POST",mode:"cors",credentials:"include",headers:{},body:$});if(!d.ok)throw q("حدثت مشكلة اثناء الاتصال بالسيرفر الرجاء اعادة تحميل الصفحة"),new Error(`HTTP error! Status: ${d.status}`);let a="";try{return a=await d.json(),a}catch{}return o&&o(),a}let{data:l}=t,s=[],_=!1;L(()=>{document.body.style.overflowX="hidden",r(0,s=l.blogs),console.log(s),s.forEach(g=>{})});const i=(g,$,o)=>{let d=new FormData;d.append("body",JSON.stringify({bd:o,title:$})),d.append("files",g),e("a/nb",d).then(()=>{q("تم انشاء منشور جديد")}),r(1,_=!1)},w=()=>{r(1,_=!1)},k=()=>{r(1,_=!1)};return m.$$set=g=>{"data"in g&&r(3,l=g.data)},[s,_,e,l,i,w,k]}class oe extends Q{constructor(t){super(),R(this,t,Z,Y,A,{data:3})}}export{oe as component};
