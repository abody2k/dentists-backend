{"version":3,"file":"_page.svelte-tiNdnNH6.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/admin/courses/_course_/exams/_examID_/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, v as validate_component } from \"../../../../../../../chunks/ssr.js\";\nimport { A as AdminExam, a as AdminQuestions } from \"../../../../../../../chunks/AdminQuestions.js\";\nimport { f as fetchData, s as showNotification } from \"../../../../../../../chunks/not.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let mode = 0;\n  let { data } = $$props;\n  let examData = {\n    questions: [],\n    answers: [],\n    title: \"\",\n    startingDate: \"\",\n    ending: \"\",\n    v: false,\n    groupID: 1,\n    level: \"\",\n    note: \"\",\n    passing: \"\",\n    examType: 1\n  };\n  let level;\n  let groups = [];\n  function updateExam() {\n    fetchData(\"a/ufxm\", {\n      t: !data.course,\n      title: examData.title,\n      q: examData.questions,\n      ans: examData.answers,\n      sd: examData.startingDate,\n      duration: examData.ending,\n      ID: Number(data.examID.split(\"-\")[1]),\n      visible: true,\n      type: Number(examData.examType),\n      groupID: Number(examData.groupID),\n      level: Number(level),\n      passing: Number(examData.passing) / 100,\n      note: examData.note\n    }).then(\n      () => {\n        showNotification(\"تم تحديث الامتحان\", \"cornflowerblue\").then(() => {\n        });\n      }\n    ).catch(() => {\n      showNotification(\"يوجد امتحان بنفس هذا العنوان\", \"red\");\n    });\n  }\n  function makeNewExam() {\n    fetchData(\"a/nfxm\", {\n      t: !data.course,\n      title: examData.title,\n      q: examData.questions,\n      ans: examData.answers,\n      startingDate: examData.startingDate,\n      ending: examData.ending,\n      ID: location.href.split(\"/\")[5],\n      v: true,\n      type: Number(examData.examType),\n      groupID: Number(examData.groupID),\n      level: Number(level),\n      passing: Number(examData.passing) / 100,\n      note: examData.note\n    }).then((e) => {\n      showNotification(\"تم إضافة الامتحان\", \"cornflowerblue\").then(() => {\n        let x = location.href.split(\"/\");\n        x.pop();\n        x.push(`${examData.examType}-${e.id}-${level}`);\n        location.href = x.join(\"/\");\n      });\n      console.log(e);\n    }).catch(() => {\n      showNotification(\"يوجد امتحان بنفس هذا العنوان\", \"red\");\n    });\n  }\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  return `${mode == 0 ? `${validate_component(AdminExam, \"AdminExam\").$$render(\n    $$result,\n    {\n      groups,\n      save: (e) => {\n        console.log(e);\n        if (data.examID.includes(\"new\")) {\n          makeNewExam();\n        } else {\n          updateExam();\n        }\n      },\n      data: examData,\n      switchToQuestions: () => {\n        if (data.examID.includes(\"new\")) {\n          makeNewExam();\n        }\n        mode = 1;\n      }\n    },\n    {},\n    {}\n  )}` : `${validate_component(AdminQuestions, \"AdminQuestions\").$$render(\n    $$result,\n    {\n      data: examData,\n      saveQuestions: updateExam,\n      switchToMainExams: () => {\n        mode = 0;\n      }\n    },\n    {},\n    {}\n  )}`}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}