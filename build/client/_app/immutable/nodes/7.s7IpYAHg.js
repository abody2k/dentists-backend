const __vite__fileDeps=["../chunks/Loading.BltLftmY.js","../chunks/scheduler.C7Xo_3aa.js","../chunks/index.NYh16Rov.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as X}from"../chunks/preload-helper.D6kgxu3v.js";import{s as G,b as H,e as k,h as N,c as B,f as O,g as K,d as D,j as E,r as m,i as j,k as y,l as Q,o as Y,a as J,m as Z}from"../chunks/scheduler.C7Xo_3aa.js";import{S as x,i as ee,c as C,a as L,m as V,t as _,b as v,e as S,d as z,g as P}from"../chunks/index.NYh16Rov.js";import{e as M}from"../chunks/each.DGNUWULW.js";import{B as te}from"../chunks/Bar.BCgXY4Hk.js";import{B as U}from"../chunks/BlogCard.B0X-O2RH.js";/* empty css                                                   */import{s as T,a as ne}from"../chunks/not.BGxdCePc.js";/* empty css                                                     */import le from"../chunks/NotificationBubble.DP7fIY4U.js";function W(a,o,r){const n=a.slice();return n[10]=o[r],n}function A(a){let o,r;return o=new U({props:{makeNew:a[1],uploadHandler:a[5],cancelHandler:a[6]}}),{c(){C(o.$$.fragment)},l(n){L(o.$$.fragment,n)},m(n,e){V(o,n,e),r=!0},p(n,e){const l={};e&2&&(l.makeNew=n[1]),e&2&&(l.uploadHandler=n[5]),e&2&&(l.cancelHandler=n[6]),o.$set(l)},i(n){r||(_(o.$$.fragment,n),r=!0)},o(n){v(o.$$.fragment,n),r=!1},d(n){z(o,n)}}}function q(a){let o,r,n=M(a[0].reverse()),e=[];for(let t=0;t<n.length;t+=1)e[t]=R(W(a,n,t));const l=t=>v(e[t],1,1,()=>{e[t]=null});return{c(){for(let t=0;t<e.length;t+=1)e[t].c();o=J()},l(t){for(let s=0;s<e.length;s+=1)e[s].l(t);o=J()},m(t,s){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(t,s);j(t,o,s),r=!0},p(t,s){if(s&5){n=M(t[0].reverse());let c;for(c=0;c<n.length;c+=1){const h=W(t,n,c);e[c]?(e[c].p(h,s),_(e[c],1)):(e[c]=R(h),e[c].c(),_(e[c],1),e[c].m(o.parentNode,o))}for(P(),c=n.length;c<e.length;c+=1)l(c);S()}},i(t){if(!r){for(let s=0;s<n.length;s+=1)_(e[s]);r=!0}},o(t){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)v(e[s]);r=!1},d(t){t&&D(o),Z(e,t)}}}function R(a){let o,r;function n(...l){return a[7](a[10],...l)}function e(...l){return a[8](a[10],...l)}return o=new U({props:{state:1,title:a[10].title,ID:a[10].ID,date:new Date(a[10].date),saveHandler:n,deleteHandler:e,details:a[10].blogDetails,url:"https://echo-dentists.s3.me-central-1.amazonaws.com/blogs/"+a[10].blogID,cancelHandler:ae}}),{c(){C(o.$$.fragment)},l(l){L(o.$$.fragment,l)},m(l,t){V(o,l,t),r=!0},p(l,t){a=l;const s={};t&1&&(s.title=a[10].title),t&1&&(s.ID=a[10].ID),t&1&&(s.date=new Date(a[10].date)),t&1&&(s.saveHandler=n),t&1&&(s.deleteHandler=e),t&1&&(s.details=a[10].blogDetails),t&1&&(s.url="https://echo-dentists.s3.me-central-1.amazonaws.com/blogs/"+a[10].blogID),o.$set(s)},i(l){r||(_(o.$$.fragment,l),r=!0)},o(l){v(o.$$.fragment,l),r=!1},d(l){z(o,l)}}}function oe(a){let o,r,n,e,l,t,s='Add New Post <span style="font-size: 20px;" class="svelte-13vb4iy">+</span>',c,h,$,I,u,b,p;o=new te({props:{title:"Blog"}});let i=a[1]&&A(a),d=a[0].length>0&&q(a);return{c(){C(o.$$.fragment),r=H(),n=k("div"),e=k("div"),l=k("div"),t=k("button"),t.innerHTML=s,c=H(),h=k("div"),$=H(),i&&i.c(),I=H(),d&&d.c(),this.h()},l(f){L(o.$$.fragment,f),r=N(f),n=B(f,"DIV",{class:!0});var g=O(n);e=B(g,"DIV",{style:!0,class:!0});var w=O(e);l=B(w,"DIV",{style:!0,class:!0});var F=O(l);t=B(F,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),K(t)!=="svelte-tobbdy"&&(t.innerHTML=s),F.forEach(D),c=N(w),h=B(w,"DIV",{style:!0,class:!0}),O(h).forEach(D),$=N(w),i&&i.l(w),I=N(w),d&&d.l(w),w.forEach(D),g.forEach(D),this.h()},h(){E(t,"class","blogBtn svelte-13vb4iy"),m(t,"width","fit-content"),m(l,"width","100%"),m(l,"margin","50px 0"),m(l,"display","flex"),m(l,"justify-content","center"),E(l,"class","svelte-13vb4iy"),m(h,"margin-top","120px"),E(h,"class","svelte-13vb4iy"),m(e,"display","flex"),m(e,"justify-content","center"),m(e,"flex-direction","column"),m(e,"gap","40px"),m(e,"align-items","center"),m(e,"justify-content","center"),m(e,"width","100%"),m(e,"display","flex"),m(e,"flex-direction","column"),m(e,"align-items","center"),E(e,"class","svelte-13vb4iy"),E(n,"class","postesCont svelte-13vb4iy")},m(f,g){V(o,f,g),j(f,r,g),j(f,n,g),y(n,e),y(e,l),y(l,t),y(e,c),y(e,h),y(e,$),i&&i.m(e,null),y(e,I),d&&d.m(e,null),u=!0,b||(p=Q(t,"click",a[4]),b=!0)},p(f,[g]){f[1]?i?(i.p(f,g),g&2&&_(i,1)):(i=A(f),i.c(),_(i,1),i.m(e,I)):i&&(P(),v(i,1,1,()=>{i=null}),S()),f[0].length>0?d?(d.p(f,g),g&1&&_(d,1)):(d=q(f),d.c(),_(d,1),d.m(e,null)):d&&(P(),v(d,1,1,()=>{d=null}),S())},i(f){u||(_(o.$$.fragment,f),_(i),_(d),u=!0)},o(f){v(o.$$.fragment,f),v(i),v(d),u=!1},d(f){f&&(D(r),D(n)),z(o,f),i&&i.d(),d&&d.d(),b=!1,p()}}}const ae=()=>{};function se(a,o,r){async function n(u,b,p){const{default:i}=await X(async()=>{const{default:g}=await import("../chunks/Loading.BltLftmY.js");return{default:g}},__vite__mapDeps([0,1,2]),import.meta.url);new i({target:document.getElementById("nots")});const d=await fetch("https://echo-dent.net/api/"+u,{method:"POST",mode:"cors",credentials:"include",headers:{},body:b});if(!d.ok)throw new le({props:{duration:10,msg:"حدثت مشكلة اثناء الاتصال بالسيرفر الرجاء اعادة تحميل الصفحة"},target:document.getElementById("nots")}),document.getElementById("loadingWindow").remove(),new Error(`HTTP error! Status: ${d.status}`);let f="";try{return f=await d.json(),document.getElementById("loadingWindow").remove(),f}catch{}return p&&p(),document.getElementById("loadingWindow").remove(),f}let{data:e={blogs:[]}}=o,l=[],t=!1;Y(()=>{document.body.style.overflowX="hidden",r(0,l=e.blogs),console.log(l)});const s=()=>{console.log("making new blog"),r(1,t=!0)},c=(u,b,p)=>{let i=new FormData;i.append("body",JSON.stringify({bd:p,title:b})),i.append("files",u),n("a/nb",i).then(()=>{T("تم انشاء منشور جديد","cornflowerblue")}),r(1,t=!1)},h=()=>{r(1,t=!1)},$=(u,b)=>{let p=new FormData;p.append("body",JSON.stringify(Object({id:u.blogID,bd:u.blogDetails,title:u.title}))),console.log(b),p.append("files",b),n("a/ub",p).then(()=>{T("تم تحديث المنشور","cornflowerblue")})},I=(u,b)=>{let p=new FormData;p.append("body",JSON.stringify(Object({bid:u.blogID}))),console.log(u),ne("هل انت متأكد من حذف المنشور؟",async()=>{await n("a/db",p).then(()=>{T("تم حذف المنشور","cornflowerblue"),r(0,l=l.filter(i=>i!=u))})})};return a.$$set=u=>{"data"in u&&r(3,e=u.data)},[l,t,n,e,s,c,h,$,I]}class he extends x{constructor(o){super(),ee(this,o,se,oe,G,{data:3})}}export{he as component};
