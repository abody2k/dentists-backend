import{s as K,e as j,a as H,c as N,b as V,f as B,d as y,h as u,i as A,j as k,o as L,k as z,l as Q}from"../chunks/scheduler.BVAlSgfp.js";import{S as R,i as U,c as I,a as E,m as P,t as g,b as p,d as q,e as S,g as T}from"../chunks/index.B7Z5KU1K.js";import{e as C}from"../chunks/each.D8K876rg.js";import{B as W}from"../chunks/Bar.CdutgMKg.js";import{B as G}from"../chunks/BlogCard.Cb-fCB6d.js";import{P as Y}from"../chunks/Path.Dtu891Bo.js";import{n as O}from"../chunks/not.BJnHWghe.js";import{B as Z}from"../chunks/Button.i6syXr_6.js";function F(c,l,o){const t=c.slice();return t[9]=l[o],t}function J(c){let l,o;return l=new G({props:{makeNew:!0,uploadHandler:c[5],cancelHandler:c[6]}}),{c(){I(l.$$.fragment)},l(t){E(l.$$.fragment,t)},m(t,e){P(l,t,e),o=!0},p(t,e){const i={};e&2&&(i.uploadHandler=t[5]),e&2&&(i.cancelHandler=t[6]),l.$set(i)},i(t){o||(g(l.$$.fragment,t),o=!0)},o(t){p(l.$$.fragment,t),o=!1},d(t){S(l,t)}}}function M(c){let l,o,t=C(c[0]),e=[];for(let a=0;a<t.length;a+=1)e[a]=X(F(c,t,a));const i=a=>p(e[a],1,1,()=>{e[a]=null});return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=z()},l(a){for(let n=0;n<e.length;n+=1)e[n].l(a);l=z()},m(a,n){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(a,n);A(a,l,n),o=!0},p(a,n){if(n&3){t=C(a[0]);let r;for(r=0;r<t.length;r+=1){const $=F(a,t,r);e[r]?(e[r].p($,n),g(e[r],1)):(e[r]=X($),e[r].c(),g(e[r],1),e[r].m(l.parentNode,l))}for(T(),r=t.length;r<e.length;r+=1)i(r);q()}},i(a){if(!o){for(let n=0;n<t.length;n+=1)g(e[n]);o=!0}},o(a){e=e.filter(Boolean);for(let n=0;n<e.length;n+=1)p(e[n]);o=!1},d(a){a&&y(l),Q(e,a)}}}function X(c){let l,o;return l=new G({props:{title:c[9].title,date:new Date(c[9].date),details:c[9].blogDetails,url:"https://dentists-iq.s3.amazonaws.com/blogs/"+c[9].blogID,cancelHandler:c[7]}}),{c(){I(l.$$.fragment)},l(t){E(l.$$.fragment,t)},m(t,e){P(l,t,e),o=!0},p(t,e){const i={};e&1&&(i.title=t[9].title),e&1&&(i.date=new Date(t[9].date)),e&1&&(i.details=t[9].blogDetails),e&1&&(i.url="https://dentists-iq.s3.amazonaws.com/blogs/"+t[9].blogID),e&2&&(i.cancelHandler=t[7]),l.$set(i)},i(t){o||(g(l.$$.fragment,t),o=!0)},o(t){p(l.$$.fragment,t),o=!1},d(t){S(l,t)}}}function x(c){let l,o,t,e,i,a,n,r,$,v,h,b,_;o=new W({props:{title:"Blogs"}}),i=new Y({props:{links:[{link:"/",txt:"Home"},{link:"/blogs",txt:"Blogs"}]}}),r=new Z({props:{text:"منشور جديد",clickHandler:c[4]}});let s=c[1]&&J(c),f=c[0].length>0&&M(c);return{c(){l=j("div"),I(o.$$.fragment),t=H(),e=j("div"),I(i.$$.fragment),a=H(),n=j("div"),I(r.$$.fragment),$=H(),v=j("div"),h=H(),s&&s.c(),b=H(),f&&f.c(),this.h()},l(m){l=N(m,"DIV",{style:!0});var d=V(l);E(o.$$.fragment,d),t=B(d),e=N(d,"DIV",{style:!0});var D=V(e);E(i.$$.fragment,D),D.forEach(y),a=B(d),n=N(d,"DIV",{style:!0});var w=V(n);E(r.$$.fragment,w),$=B(w),v=N(w,"DIV",{style:!0}),V(v).forEach(y),h=B(w),s&&s.l(w),b=B(w),f&&f.l(w),w.forEach(y),d.forEach(y),this.h()},h(){u(e,"width","100%"),u(e,"display","inline-table"),u(e,"margin","auto"),u(e,"margin-top","141px"),u(v,"margin-top","120px"),u(n,"display","flex"),u(n,"justify-content","center"),u(n,"flex-direction","column"),u(n,"gap","40px"),u(n,"align-items","center"),u(n,"justify-content","center"),u(n,"width","100%"),u(n,"display","flex"),u(n,"flex-direction","column"),u(n,"align-items","center"),u(l,"width","100vw")},m(m,d){A(m,l,d),P(o,l,null),k(l,t),k(l,e),P(i,e,null),k(l,a),k(l,n),P(r,n,null),k(n,$),k(n,v),k(n,h),s&&s.m(n,null),k(n,b),f&&f.m(n,null),_=!0},p(m,[d]){const D={};d&2&&(D.clickHandler=m[4]),r.$set(D),m[1]?s?(s.p(m,d),d&2&&g(s,1)):(s=J(m),s.c(),g(s,1),s.m(n,b)):s&&(T(),p(s,1,1,()=>{s=null}),q()),m[0].length>0?f?(f.p(m,d),d&1&&g(f,1)):(f=M(m),f.c(),g(f,1),f.m(n,null)):f&&(T(),p(f,1,1,()=>{f=null}),q())},i(m){_||(g(o.$$.fragment,m),g(i.$$.fragment,m),g(r.$$.fragment,m),g(s),g(f),_=!0)},o(m){p(o.$$.fragment,m),p(i.$$.fragment,m),p(r.$$.fragment,m),p(s),p(f),_=!1},d(m){m&&y(l),S(o),S(i),S(r),s&&s.d(),f&&f.d()}}}function ee(c,l,o){async function t(h,b,_){const s=await fetch("http://3.28.252.173:3000/api/"+h,{method:"POST",mode:"cors",credentials:"include",headers:{},body:b});if(!s.ok)throw O("حدثت مشكلة اثناء الاتصال بالسيرفر الرجاء اعادة تحميل الصفحة"),new Error(`HTTP error! Status: ${s.status}`);let f="";try{return f=await s.json(),f}catch{}return _&&_(),f}let{data:e={blogs:[]}}=l,i=[],a=!1;L(()=>{document.body.style.overflowX="hidden",o(0,i=e.blogs),console.log(i)});const n=()=>{console.log("making new blog"),o(1,a=!0)},r=(h,b,_)=>{let s=new FormData;s.append("body",JSON.stringify({bd:_,title:b})),s.append("files",h),t("a/nb",s).then(()=>{O("تم انشاء منشور جديد")}),o(1,a=!1)},$=()=>{o(1,a=!1)},v=()=>{o(1,a=!1)};return c.$$set=h=>{"data"in h&&o(3,e=h.data)},[i,a,t,e,n,r,$,v]}class fe extends R{constructor(l){super(),U(this,l,ee,x,K,{data:3})}}export{fe as component};
