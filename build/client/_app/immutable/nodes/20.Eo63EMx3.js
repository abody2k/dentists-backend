import{s as le,z as R,i as S,n as J,f as y,w as ae,e as b,h as E,t as K,b as w,k,j as N,l as Q,x as B,m as g,o as _,p as d,r as W,D as U,q as C,y as ne,v as oe}from"../chunks/scheduler.CvS8aZFR.js";import{S as re,i as se,c as z,b as G,m as L,t as V,a as q,e as X,d as A,g as Y}from"../chunks/index.BLvvEpyq.js";import{e as Z}from"../chunks/each.atBuby31.js";import{n as x}from"../chunks/not.DNvn3Bfc.js";import{T as ue}from"../chunks/TopBar.CLs3f67J.js";function ce(o){let t,a,e,r,i,u,p,c,m,s,h;return{c(){t=b("div"),a=b("div"),e=b("img"),i=E(),u=b("div"),p=b("h2"),c=K(o[1]),m=E(),s=b("p"),h=K(o[2]),this.h()},l(l){t=w(l,"DIV",{class:!0});var n=k(t);a=w(n,"DIV",{class:!0});var f=k(a);e=w(f,"IMG",{src:!0,alt:!0,class:!0}),f.forEach(y),i=N(n),u=w(n,"DIV",{class:!0});var I=k(u);p=w(I,"H2",{style:!0});var T=k(p);c=Q(T,o[1]),T.forEach(y),m=N(I),s=w(I,"P",{class:!0});var j=k(s);h=Q(j,o[2]),j.forEach(y),I.forEach(y),n.forEach(y),this.h()},h(){B(e.src,r=o[0])||g(e,"src",r),g(e,"alt","image1"),g(e,"class","svelte-3u8077"),g(a,"class","imageCont svelte-3u8077"),_(p,"margin","-2px 0 -10px 0"),g(s,"class","svelte-3u8077"),g(u,"class","captionCont svelte-3u8077"),g(t,"class","postCard svelte-3u8077")},m(l,n){S(l,t,n),d(t,a),d(a,e),d(t,i),d(t,u),d(u,p),d(p,c),d(u,m),d(u,s),d(s,h)},p(l,n){n&1&&!B(e.src,r=l[0])&&g(e,"src",r),n&2&&W(c,l[1]),n&4&&W(h,l[2])},d(l){l&&y(t)}}}function fe(o){let t,a,e,r,i,u,p,c,m,s;return{c(){t=b("div"),a=b("div"),e=b("img"),i=E(),u=b("input"),p=E(),c=b("input"),this.h()},l(h){t=w(h,"DIV",{class:!0,style:!0});var l=k(t);a=w(l,"DIV",{class:!0});var n=k(a);e=w(n,"IMG",{src:!0,style:!0}),i=N(n),u=w(n,"INPUT",{placeholder:!0}),p=N(n),c=w(n,"INPUT",{placeholder:!0}),n.forEach(y),l.forEach(y),this.h()},h(){B(e.src,r=o[0])||g(e,"src",r),_(e,"width","100%"),_(e,"height","30vh"),g(u,"placeholder","العنوان"),g(c,"placeholder","الوصف"),g(a,"class","column svelte-3u8077"),g(t,"class","card svelte-3u8077"),_(t,"width","70%")},m(h,l){S(h,t,l),d(t,a),d(a,e),d(a,i),d(a,u),U(u,o[1]),d(a,p),d(a,c),U(c,o[2]),m||(s=[C(u,"input",o[15]),C(c,"input",o[16])],m=!0)},p(h,l){l&1&&!B(e.src,r=h[0])&&g(e,"src",r),l&2&&u.value!==h[1]&&U(u,h[1]),l&4&&c.value!==h[2]&&U(c,h[2])},d(h){h&&y(t),m=!1,ne(s)}}}function de(o){let t,a,e,r,i,u,p,c,m,s,h,l,n,f,I,T,j;return{c(){t=b("div"),a=b("div"),e=b("div"),r=b("div"),i=b("label"),u=b("img"),m=E(),s=b("input"),h=E(),l=b("div"),n=b("input"),f=E(),I=b("input"),this.h()},l(H){t=w(H,"DIV",{class:!0,style:!0});var D=k(t);a=w(D,"DIV",{});var v=k(a);e=w(v,"DIV",{});var P=k(e);r=w(P,"DIV",{style:!0});var F=k(r);i=w(F,"LABEL",{for:!0});var O=k(i);u=w(O,"IMG",{src:!0,style:!0}),O.forEach(y),F.forEach(y),m=N(P),s=w(P,"INPUT",{type:!0,placeholder:!0,style:!0,id:!0}),h=N(P),l=w(P,"DIV",{class:!0,style:!0});var M=k(l);n=w(M,"INPUT",{placeholder:!0,style:!0}),f=N(M),I=w(M,"INPUT",{placeholder:!0,style:!0}),M.forEach(y),P.forEach(y),v.forEach(y),D.forEach(y),this.h()},h(){B(u.src,p=o[0]?o[0]:"/addImage.png")||g(u,"src",p),g(u,"style",c=o[0]?"width:100%;height:120px;":"width: 40px;"),g(i,"for","files"),_(r,"width","100%"),_(r,"height","200px"),_(r,"display","flex"),_(r,"align-items","center"),_(r,"justify-content","center"),_(r,"background-color","#efefff"),g(s,"type","file"),g(s,"placeholder","/addImage.png"),_(s,"display","none"),g(s,"id","files"),g(n,"placeholder","العنوان"),_(n,"width","80%"),g(I,"placeholder","الوصف"),_(I,"width","90%"),I.multiple=!0,g(l,"class","column svelte-3u8077"),_(l,"align-items","center"),g(t,"class","card svelte-3u8077"),_(t,"width","70%")},m(H,D){S(H,t,D),d(t,a),d(a,e),d(e,r),d(r,i),d(i,u),d(e,m),d(e,s),d(e,h),d(e,l),d(l,n),U(n,o[1]),d(l,f),d(l,I),U(I,o[2]),T||(j=[C(s,"change",o[11]),C(s,"change",o[12]),C(n,"input",o[13]),C(I,"input",o[14])],T=!0)},p(H,D){D&1&&!B(u.src,p=H[0]?H[0]:"/addImage.png")&&g(u,"src",p),D&1&&c!==(c=H[0]?"width:100%;height:120px;":"width: 40px;")&&g(u,"style",c),D&2&&n.value!==H[1]&&U(n,H[1]),D&4&&I.value!==H[2]&&U(I,H[2])},d(H){H&&y(t),T=!1,ne(j)}}}function he(o){let t;function a(i,u){return i[3]==0?de:i[3]==1?fe:ce}let e=a(o),r=e(o);return{c(){r.c(),t=R()},l(i){r.l(i),t=R()},m(i,u){r.m(i,u),S(i,t,u)},p(i,[u]){e===(e=a(i))&&r?r.p(i,u):(r.d(1),r=e(i),r&&(r.c(),r.m(t.parentNode,t)))},i:J,o:J,d(i){i&&y(t),r.d(i)}}}function me(o,t,a){let{cancelHandler:e}=t,{uploadHandler:r}=t,{deleteHandler:i}=t,{saveHandler:u}=t,p=2,{url:c=""}=t,{title:m=""}=t,{details:s=""}=t,{date:h=Date()}=t,{makeNew:l}=t,n=[];l&&(p=0),ae(()=>{});function f(){n=this.files,a(4,n)}const I=()=>{if(n[0]){const v=new FileReader;v.onload=function(P){a(0,c=P.target.result)},v.readAsDataURL(n[0])}else a(0,c="")};function T(){m=this.value,a(1,m)}function j(){s=this.value,a(2,s)}function H(){m=this.value,a(1,m)}function D(){s=this.value,a(2,s)}return o.$$set=v=>{"cancelHandler"in v&&a(5,e=v.cancelHandler),"uploadHandler"in v&&a(6,r=v.uploadHandler),"deleteHandler"in v&&a(7,i=v.deleteHandler),"saveHandler"in v&&a(8,u=v.saveHandler),"url"in v&&a(0,c=v.url),"title"in v&&a(1,m=v.title),"details"in v&&a(2,s=v.details),"date"in v&&a(9,h=v.date),"makeNew"in v&&a(10,l=v.makeNew)},[c,m,s,p,n,e,r,i,u,h,l,f,I,T,j,H,D]}class ie extends re{constructor(t){super(),se(this,t,me,he,le,{cancelHandler:5,uploadHandler:6,deleteHandler:7,saveHandler:8,url:0,title:1,details:2,date:9,makeNew:10})}}function $(o,t,a){const e=o.slice();return e[8]=t[a],e}function ee(o){let t,a;return t=new ie({props:{makeNew:!0,uploadHandler:o[4],cancelHandler:o[5]}}),{c(){z(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,r){L(t,e,r),a=!0},p(e,r){const i={};r&2&&(i.uploadHandler=e[4]),r&2&&(i.cancelHandler=e[5]),t.$set(i)},i(e){a||(V(t.$$.fragment,e),a=!0)},o(e){q(t.$$.fragment,e),a=!1},d(e){A(t,e)}}}function te(o){let t,a;return t=new ie({props:{title:o[8].title,date:new Date(o[8].date),details:o[8].blogDetails,url:"https://dentists-iq.s3.amazonaws.com/blogs/"+o[8].blogID,cancelHandler:o[6]}}),{c(){z(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,r){L(t,e,r),a=!0},p(e,r){const i={};r&1&&(i.title=e[8].title),r&1&&(i.date=new Date(e[8].date)),r&1&&(i.details=e[8].blogDetails),r&1&&(i.url="https://dentists-iq.s3.amazonaws.com/blogs/"+e[8].blogID),r&2&&(i.cancelHandler=e[6]),t.$set(i)},i(e){a||(V(t.$$.fragment,e),a=!0)},o(e){q(t.$$.fragment,e),a=!1},d(e){A(t,e)}}}function _e(o){let t,a,e,r,i,u,p;t=new ue({});let c=o[1]&&ee(o),m=Z(o[0]),s=[];for(let l=0;l<m.length;l+=1)s[l]=te($(o,m,l));const h=l=>q(s[l],1,1,()=>{s[l]=null});return{c(){z(t.$$.fragment),a=E(),e=b("div"),r=b("div"),i=E(),c&&c.c(),u=E();for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){G(t.$$.fragment,l),a=N(l),e=w(l,"DIV",{style:!0});var n=k(e);r=w(n,"DIV",{style:!0}),k(r).forEach(y),i=N(n),c&&c.l(n),u=N(n);for(let f=0;f<s.length;f+=1)s[f].l(n);n.forEach(y),this.h()},h(){_(r,"margin-top","120px"),_(e,"display","flex"),_(e,"justify-content","center"),_(e,"flex-direction","column"),_(e,"gap","40px"),_(e,"align-items","center"),_(e,"justify-content","center"),_(e,"padding-top","200px"),_(e,"width","100%"),_(e,"display","flex"),_(e,"flex-direction","column"),_(e,"align-items","center")},m(l,n){L(t,l,n),S(l,a,n),S(l,e,n),d(e,r),d(e,i),c&&c.m(e,null),d(e,u);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);p=!0},p(l,[n]){if(l[1]?c?(c.p(l,n),n&2&&V(c,1)):(c=ee(l),c.c(),V(c,1),c.m(e,u)):c&&(Y(),q(c,1,1,()=>{c=null}),X()),n&3){m=Z(l[0]);let f;for(f=0;f<m.length;f+=1){const I=$(l,m,f);s[f]?(s[f].p(I,n),V(s[f],1)):(s[f]=te(I),s[f].c(),V(s[f],1),s[f].m(e,null))}for(Y(),f=m.length;f<s.length;f+=1)h(f);X()}},i(l){if(!p){V(t.$$.fragment,l),V(c);for(let n=0;n<m.length;n+=1)V(s[n]);p=!0}},o(l){q(t.$$.fragment,l),q(c),s=s.filter(Boolean);for(let n=0;n<s.length;n+=1)q(s[n]);p=!1},d(l){l&&(y(a),y(e)),A(t,l),c&&c.d(),oe(s,l)}}}function ge(o,t,a){async function e(s,h,l){const n=await fetch("https://dentists-backend.onrender.com/api/"+s,{method:"POST",mode:"cors",credentials:"include",headers:{},body:h});if(!n.ok)throw x("حدثت مشكلة اثناء الاتصال بالسيرفر الرجاء اعادة تحميل الصفحة"),new Error(`HTTP error! Status: ${n.status}`);let f="";try{return f=await n.json(),f}catch{}return l&&l(),f}let{data:r}=t,i=[],u=!1;ae(()=>{a(0,i=r.blogs),console.log(i),i.forEach(s=>{})});const p=(s,h,l)=>{let n=new FormData;n.append("body",JSON.stringify({bd:l,title:h})),n.append("files",s),e("a/nb",n).then(()=>{x("تم انشاء منشور جديد")}),a(1,u=!1)},c=()=>{a(1,u=!1)},m=()=>{a(1,u=!1)};return o.$$set=s=>{"data"in s&&a(3,r=s.data)},[i,u,e,r,p,c,m]}class ye extends re{constructor(t){super(),se(this,t,ge,_e,le,{data:3})}}export{ye as component};
