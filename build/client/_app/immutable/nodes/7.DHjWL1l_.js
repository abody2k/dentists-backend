const __vite__fileDeps=["../chunks/Loading.BltLftmY.js","../chunks/scheduler.C7Xo_3aa.js","../chunks/index.NYh16Rov.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as X}from"../chunks/preload-helper.D6kgxu3v.js";import{s as G,b as H,e as k,h as N,c as B,f as O,g as K,d as D,j as E,r as m,i as j,k as y,l as Q,o as Y,a as J,m as Z}from"../chunks/scheduler.C7Xo_3aa.js";import{S as x,i as ee,c as C,a as L,m as V,t as _,b as v,e as S,d as z,g as P}from"../chunks/index.NYh16Rov.js";import{e as M}from"../chunks/each.DGNUWULW.js";import{B as te}from"../chunks/Bar.BCgXY4Hk.js";import{B as U}from"../chunks/BlogCard.N-a1nlCN.js";/* empty css                                                   */import{s as T,a as ne}from"../chunks/not.BKXOq_6H.js";/* empty css                                                     */import le from"../chunks/NotificationBubble.DP7fIY4U.js";function W(o,a,r){const n=o.slice();return n[10]=a[r],n}function A(o){let a,r;return a=new U({props:{makeNew:o[1],uploadHandler:o[5],cancelHandler:o[6]}}),{c(){C(a.$$.fragment)},l(n){L(a.$$.fragment,n)},m(n,e){V(a,n,e),r=!0},p(n,e){const l={};e&2&&(l.makeNew=n[1]),e&2&&(l.uploadHandler=n[5]),e&2&&(l.cancelHandler=n[6]),a.$set(l)},i(n){r||(_(a.$$.fragment,n),r=!0)},o(n){v(a.$$.fragment,n),r=!1},d(n){z(a,n)}}}function q(o){let a,r,n=M(o[0].reverse()),e=[];for(let t=0;t<n.length;t+=1)e[t]=R(W(o,n,t));const l=t=>v(e[t],1,1,()=>{e[t]=null});return{c(){for(let t=0;t<e.length;t+=1)e[t].c();a=J()},l(t){for(let s=0;s<e.length;s+=1)e[s].l(t);a=J()},m(t,s){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(t,s);j(t,a,s),r=!0},p(t,s){if(s&5){n=M(t[0].reverse());let c;for(c=0;c<n.length;c+=1){const h=W(t,n,c);e[c]?(e[c].p(h,s),_(e[c],1)):(e[c]=R(h),e[c].c(),_(e[c],1),e[c].m(a.parentNode,a))}for(P(),c=n.length;c<e.length;c+=1)l(c);S()}},i(t){if(!r){for(let s=0;s<n.length;s+=1)_(e[s]);r=!0}},o(t){e=e.filter(Boolean);for(let s=0;s<e.length;s+=1)v(e[s]);r=!1},d(t){t&&D(a),Z(e,t)}}}function R(o){let a,r;function n(...l){return o[7](o[10],...l)}function e(...l){return o[8](o[10],...l)}return a=new U({props:{state:1,title:o[10].title,ID:o[10].ID,date:new Date(o[10].date),saveHandler:n,deleteHandler:e,details:o[10].blogDetails,url:"https://echo-dentists.s3.me-central-1.amazonaws.com/blogs/"+o[10].blogID,cancelHandler:oe}}),{c(){C(a.$$.fragment)},l(l){L(a.$$.fragment,l)},m(l,t){V(a,l,t),r=!0},p(l,t){o=l;const s={};t&1&&(s.title=o[10].title),t&1&&(s.ID=o[10].ID),t&1&&(s.date=new Date(o[10].date)),t&1&&(s.saveHandler=n),t&1&&(s.deleteHandler=e),t&1&&(s.details=o[10].blogDetails),t&1&&(s.url="https://echo-dentists.s3.me-central-1.amazonaws.com/blogs/"+o[10].blogID),a.$set(s)},i(l){r||(_(a.$$.fragment,l),r=!0)},o(l){v(a.$$.fragment,l),r=!1},d(l){z(a,l)}}}function ae(o){let a,r,n,e,l,t,s='Add New Post <span style="font-size: 20px;" class="svelte-13vb4iy">+</span>',c,h,$,I,d,b,p;a=new te({props:{title:"Blog"}});let i=o[1]&&A(o),u=o[0].length>0&&q(o);return{c(){C(a.$$.fragment),r=H(),n=k("div"),e=k("div"),l=k("div"),t=k("button"),t.innerHTML=s,c=H(),h=k("div"),$=H(),i&&i.c(),I=H(),u&&u.c(),this.h()},l(f){L(a.$$.fragment,f),r=N(f),n=B(f,"DIV",{class:!0});var g=O(n);e=B(g,"DIV",{style:!0,class:!0});var w=O(e);l=B(w,"DIV",{style:!0,class:!0});var F=O(l);t=B(F,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),K(t)!=="svelte-tobbdy"&&(t.innerHTML=s),F.forEach(D),c=N(w),h=B(w,"DIV",{style:!0,class:!0}),O(h).forEach(D),$=N(w),i&&i.l(w),I=N(w),u&&u.l(w),w.forEach(D),g.forEach(D),this.h()},h(){E(t,"class","blogBtn svelte-13vb4iy"),m(t,"width","fit-content"),m(l,"width","100%"),m(l,"margin","50px 0"),m(l,"display","flex"),m(l,"justify-content","center"),E(l,"class","svelte-13vb4iy"),m(h,"margin-top","120px"),E(h,"class","svelte-13vb4iy"),m(e,"display","flex"),m(e,"justify-content","center"),m(e,"flex-direction","column"),m(e,"gap","40px"),m(e,"align-items","center"),m(e,"justify-content","center"),m(e,"width","100%"),m(e,"display","flex"),m(e,"flex-direction","column"),m(e,"align-items","center"),E(e,"class","svelte-13vb4iy"),E(n,"class","postesCont svelte-13vb4iy")},m(f,g){V(a,f,g),j(f,r,g),j(f,n,g),y(n,e),y(e,l),y(l,t),y(e,c),y(e,h),y(e,$),i&&i.m(e,null),y(e,I),u&&u.m(e,null),d=!0,b||(p=Q(t,"click",o[4]),b=!0)},p(f,[g]){f[1]?i?(i.p(f,g),g&2&&_(i,1)):(i=A(f),i.c(),_(i,1),i.m(e,I)):i&&(P(),v(i,1,1,()=>{i=null}),S()),f[0].length>0?u?(u.p(f,g),g&1&&_(u,1)):(u=q(f),u.c(),_(u,1),u.m(e,null)):u&&(P(),v(u,1,1,()=>{u=null}),S())},i(f){d||(_(a.$$.fragment,f),_(i),_(u),d=!0)},o(f){v(a.$$.fragment,f),v(i),v(u),d=!1},d(f){f&&(D(r),D(n)),z(a,f),i&&i.d(),u&&u.d(),b=!1,p()}}}const oe=()=>{};function se(o,a,r){async function n(d,b,p){const{default:i}=await X(async()=>{const{default:g}=await import("../chunks/Loading.BltLftmY.js");return{default:g}},__vite__mapDeps([0,1,2]),import.meta.url);new i({target:document.getElementById("nots")});const u=await fetch("http://3.29.235.228:3000/api/"+d,{method:"POST",mode:"cors",credentials:"include",headers:{},body:b});if(!u.ok)throw new le({props:{duration:10,msg:"حدثت مشكلة اثناء الاتصال بالسيرفر الرجاء اعادة تحميل الصفحة"},target:document.getElementById("nots")}),document.getElementById("loadingWindow").remove(),new Error(`HTTP error! Status: ${u.status}`);let f="";try{return f=await u.json(),document.getElementById("loadingWindow").remove(),f}catch{}return p&&p(),document.getElementById("loadingWindow").remove(),f}let{data:e={blogs:[]}}=a,l=[],t=!1;Y(()=>{document.body.style.overflowX="hidden",r(0,l=e.blogs),console.log(l)});const s=()=>{console.log("making new blog"),r(1,t=!0)},c=(d,b,p)=>{let i=new FormData;i.append("body",JSON.stringify({bd:p,title:b})),i.append("files",d),n("a/nb",i).then(()=>{T("تم انشاء منشور جديد","cornflowerblue")}),r(1,t=!1)},h=()=>{r(1,t=!1)},$=(d,b)=>{let p=new FormData;p.append("body",JSON.stringify(Object({id:d.blogID,bd:d.blogDetails,title:d.title}))),console.log(b),p.append("files",b),n("a/ub",p).then(()=>{T("تم تحديث المنشور","cornflowerblue")})},I=(d,b)=>{let p=new FormData;p.append("body",JSON.stringify(Object({bid:d.blogID}))),console.log(d),ne("هل انت متأكد من حذف المنشور؟",async()=>{await n("a/db",p).then(()=>{T("تم حذف المنشور","cornflowerblue"),r(0,l=l.filter(i=>i!=d))})})};return o.$$set=d=>{"data"in d&&r(3,e=d.data)},[l,t,n,e,s,c,h,$,I]}class he extends x{constructor(a){super(),ee(this,a,se,ae,G,{data:3})}}export{he as component};
