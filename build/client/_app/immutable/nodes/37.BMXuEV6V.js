import{s as H,a as N,i as T,d as S,o as j}from"../chunks/scheduler.C7Xo_3aa.js";import{S as C,i as E,t,b as u,e as $,g as I,c,a as b,m as w,d as h}from"../chunks/index.NYh16Rov.js";import{f as k,s as J}from"../chunks/not.CMcaOXzY.js";import{U as P,a as R,b as z,c as B,d as F}from"../chunks/UserResults.zS2NiUH_.js";function q(l){let s,a,e,n;const r=[W,V,L,K,G],f=[];function m(o,g){return o[0]==0?0:o[0]==1&&o[1]?1:o[0]==2&&o[1].q?2:o[0]==3&&o[1].q?3:o[0]==4?4:-1}return~(s=m(l))&&(a=f[s]=r[s](l)),{c(){a&&a.c(),e=N()},l(o){a&&a.l(o),e=N()},m(o,g){~s&&f[s].m(o,g),T(o,e,g),n=!0},p(o,g){let _=s;s=m(o),s===_?~s&&f[s].p(o,g):(a&&(I(),u(f[_],1,1,()=>{f[_]=null}),$()),~s?(a=f[s],a?a.p(o,g):(a=f[s]=r[s](o),a.c()),t(a,1),a.m(e.parentNode,e)):a=null)},i(o){n||(t(a),n=!0)},o(o){u(a),n=!1},d(o){o&&S(e),~s&&f[s].d(o)}}}function G(l){let s,a;return s=new P({props:{viewingAnswers:l[3],reviewAnswers:l[12],myScore:l[1].myScore,results:l[1].na?l[1].na.map(l[13]):null,ending:l[1].en,startingDate:l[1].sd,examTitle:l[1].title,level:l[1].l}}),{c(){c(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,n){w(s,e,n),a=!0},p(e,n){const r={};n&8&&(r.viewingAnswers=e[3]),n&1&&(r.reviewAnswers=e[12]),n&2&&(r.myScore=e[1].myScore),n&2&&(r.results=e[1].na?e[1].na.map(e[13]):null),n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),s.$set(r)},i(e){a||(t(s.$$.fragment,e),a=!0)},o(e){u(s.$$.fragment,e),a=!1},d(e){h(s,e)}}}function K(l){let s,a;return s=new R({props:{ending:l[1].en,startingDate:l[1].sd,examTitle:l[1].title,level:l[1].l,review:l[10],submit:l[11]}}),{c(){c(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,n){w(s,e,n),a=!0},p(e,n){const r={};n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),n&1&&(r.review=e[10]),n&6&&(r.submit=e[11]),s.$set(r)},i(e){a||(t(s.$$.fragment,e),a=!0)},o(e){u(s.$$.fragment,e),a=!1},d(e){h(s,e)}}}function L(l){let s,a;return s=new z({props:{numOfMissing:l[1].ans.filter(D).length,numOfQ:l[1].ans.length,backToQuestions:l[8],submit:l[9]}}),{c(){c(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,n){w(s,e,n),a=!0},p(e,n){const r={};n&2&&(r.numOfMissing=e[1].ans.filter(D).length),n&2&&(r.numOfQ=e[1].ans.length),n&1&&(r.backToQuestions=e[8]),n&7&&(r.submit=e[9]),s.$set(r)},i(e){a||(t(s.$$.fragment,e),a=!0)},o(e){u(s.$$.fragment,e),a=!1},d(e){h(s,e)}}}function V(l){let s,a;return s=new B({props:{rightAnswers:l[1].ans,viewingAnswers:l[3],answers:l[3]?l[1].uans[0].answer:l[1].ans,goHome:l[6],questions:l[3]?l[1].qu:l[1].q,save:l[7]}}),{c(){c(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,n){w(s,e,n),a=!0},p(e,n){const r={};n&2&&(r.rightAnswers=e[1].ans),n&8&&(r.viewingAnswers=e[3]),n&10&&(r.answers=e[3]?e[1].uans[0].answer:e[1].ans),n&9&&(r.goHome=e[6]),n&10&&(r.questions=e[3]?e[1].qu:e[1].q),n&11&&(r.save=e[7]),s.$set(r)},i(e){a||(t(s.$$.fragment,e),a=!0)},o(e){u(s.$$.fragment,e),a=!1},d(e){h(s,e)}}}function W(l){let s,a;return s=new F({props:{available:!!l[1].q,getStarted:l[5],ending:l[1].en,startingDate:l[1].sd,examTitle:l[1].title,level:l[1].l,note:l[1].n}}),{c(){c(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,n){w(s,e,n),a=!0},p(e,n){const r={};n&2&&(r.available=!!e[1].q),n&1&&(r.getStarted=e[5]),n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),n&2&&(r.note=e[1].n),s.$set(r)},i(e){a||(t(s.$$.fragment,e),a=!0)},o(e){u(s.$$.fragment,e),a=!1},d(e){h(s,e)}}}function X(l){let s,a,e=l[1]!=null&&q(l);return{c(){e&&e.c(),s=N()},l(n){e&&e.l(n),s=N()},m(n,r){e&&e.m(n,r),T(n,s,r),a=!0},p(n,[r]){n[1]!=null?e?(e.p(n,r),r&2&&t(e,1)):(e=q(n),e.c(),t(e,1),e.m(s.parentNode,s)):e&&(I(),u(e,1,1,()=>{e=null}),$())},i(n){a||(t(e),a=!0)},o(n){u(e),a=!1},d(n){n&&S(s),e&&e.d(n)}}}const D=l=>!l.includes(!0);function Y(l,s,a){let{data:e}=s,n=0,r,f,m=!1;j(()=>{a(2,f=e.params),console.log(e),k("u/gexqc",{courseID:Number(e.params.course),examType:Number(e.params.examType),examID:Number(e.params.examID),level:Number(e.params.level)}).then(i=>{a(1,r=i),i.q?(a(1,r.ans=r.q.map(p=>[...Array(p.ans.length)].fill(!1)),r),console.log(r)):i.r?i.r.length>0&&(a(1,r.myScore=r.r.filter(p=>p.i==Number(localStorage.getItem("i")))[0].grade,r),console.log(r),i.uans&&a(3,m=!0),a(0,n=4)):a(0,n=4),console.log("viewing answers "+m)})});const o=()=>{a(0,n=1)},g=()=>{if(m){a(0,n=4);return}a(0,n=0)},_=()=>{if(m){a(0,n=4);return}localStorage.setItem("exams",JSON.stringify({q:r.q,ans:r.ans})),r.ans.length>0&&(console.log(r.ans),console.log(r.ans.filter(i=>!i.includes(!0))),r.ans.filter(i=>!i.includes(!0)).length>0?a(0,n=2):a(0,n=3),console.log("this is mode"),console.log(n))},A=()=>{a(0,n=1)},v=()=>{k(`u/${Number(f.examType)==1?"spa":Number(f.examType)==2?"ssa":"sfa"}`,{t:0,i:Number(f.examID),ID:Number(location.href.split("/")[4]),ans:r.ans}).then(()=>{a(0,n=4)})},O=()=>{a(0,n=1)},U=()=>{console.log({t:0,i:Number(f.examID),ID:Number(location.href.split("/")[4]),ans:r.ans.map(i=>i.map(p=>[p]))}),k(`u/${Number(f.examType)==1?"spa":Number(f.examType)==2?"ssa":"sfa"}`,{t:0,i:Number(f.examID),ID:Number(location.href.split("/")[4]),ans:r.ans}).catch(()=>{J("لقد قمت بتسليم النتيجة مسبقا")}).then(()=>{location.reload()})},Q=()=>{a(0,n=1)},M=i=>Object({n:i.n,grade:r.r.find(p=>p.i==i.i).grade});return l.$$set=i=>{"data"in i&&a(4,e=i.data)},[n,r,f,m,e,o,g,_,A,v,O,U,Q,M]}class ee extends C{constructor(s){super(),E(this,s,Y,X,H,{data:4})}}export{ee as component};
