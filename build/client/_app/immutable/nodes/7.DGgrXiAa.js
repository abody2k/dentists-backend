const __vite__fileDeps=["../chunks/Loading.PBQpAKiI.js","../chunks/scheduler.-UlM-m53.js","../chunks/index.UV4btmqA.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as Y}from"../chunks/preload-helper.D6kgxu3v.js";import{s as Z,e as B,b as O,c as E,f as P,h as T,d as k,g as x,r as u,j as H,i as K,k as w,l as ee,o as te,a as A,m as ne}from"../chunks/scheduler.-UlM-m53.js";import{S as le,i as ae,c as S,a as V,m as C,t as _,b as y,e as F,d as L,g as J}from"../chunks/index.UV4btmqA.js";import{e as q}from"../chunks/each.vmS1Pkat.js";import{B as oe}from"../chunks/Bar.ZiK682hq.js";import{B as Q}from"../chunks/BlogCard.DLFbLZQC.js";import{P as se}from"../chunks/Path.9yvZgEzM.js";import{s as z,a as re}from"../chunks/not.CKuSUAlB.js";/* empty css                                                     */import ie from"../chunks/NotificationBubble.Dn987Hga.js";function R(s,l,i){const a=s.slice();return a[10]=l[i],a}function U(s){let l,i;return l=new Q({props:{makeNew:s[1],uploadHandler:s[5],cancelHandler:s[6]}}),{c(){S(l.$$.fragment)},l(a){V(l.$$.fragment,a)},m(a,t){C(l,a,t),i=!0},p(a,t){const o={};t&2&&(o.makeNew=a[1]),t&2&&(o.uploadHandler=a[5]),t&2&&(o.cancelHandler=a[6]),l.$set(o)},i(a){i||(_(l.$$.fragment,a),i=!0)},o(a){y(l.$$.fragment,a),i=!1},d(a){L(l,a)}}}function X(s){let l,i,a=q(s[0]),t=[];for(let n=0;n<a.length;n+=1)t[n]=G(R(s,a,n));const o=n=>y(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();l=A()},l(n){for(let e=0;e<t.length;e+=1)t[e].l(n);l=A()},m(n,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(n,e);K(n,l,e),i=!0},p(n,e){if(e&5){a=q(n[0]);let r;for(r=0;r<a.length;r+=1){const p=R(n,a,r);t[r]?(t[r].p(p,e),_(t[r],1)):(t[r]=G(p),t[r].c(),_(t[r],1),t[r].m(l.parentNode,l))}for(J(),r=a.length;r<t.length;r+=1)o(r);F()}},i(n){if(!i){for(let e=0;e<a.length;e+=1)_(t[e]);i=!0}},o(n){t=t.filter(Boolean);for(let e=0;e<t.length;e+=1)y(t[e]);i=!1},d(n){n&&k(l),ne(t,n)}}}function G(s){let l,i;function a(...o){return s[7](s[10],...o)}function t(...o){return s[8](s[10],...o)}return l=new Q({props:{state:1,title:s[10].title,ID:s[10].ID,date:new Date(s[10].date),saveHandler:a,deleteHandler:t,details:s[10].blogDetails,url:"https://echo-dentists.s3.me-central-1.amazonaws.com/blogs/"+s[10].blogID,cancelHandler:ce}}),{c(){S(l.$$.fragment)},l(o){V(l.$$.fragment,o)},m(o,n){C(l,o,n),i=!0},p(o,n){s=o;const e={};n&1&&(e.title=s[10].title),n&1&&(e.ID=s[10].ID),n&1&&(e.date=new Date(s[10].date)),n&1&&(e.saveHandler=a),n&1&&(e.deleteHandler=t),n&1&&(e.details=s[10].blogDetails),n&1&&(e.url="https://echo-dentists.s3.me-central-1.amazonaws.com/blogs/"+s[10].blogID),l.$set(e)},i(o){i||(_(l.$$.fragment,o),i=!0)},o(o){y(l.$$.fragment,o),i=!1},d(o){L(l,o)}}}function fe(s){let l,i,a,t,o,n,e,r,p,j='Add New Post <span style="font-size: 20px;" class="svelte-13vb4iy">+</span>',N,c,v,g,b,D,I;i=new oe({props:{title:"Blogs"}}),o=new se({props:{links:[{link:"/",txt:"Home"},{link:"/blogs",txt:"Blogs"}]}});let f=s[1]&&U(s),d=s[0].length>0&&X(s);return{c(){l=B("div"),S(i.$$.fragment),a=O(),t=B("div"),S(o.$$.fragment),n=O(),e=B("div"),r=B("div"),p=B("button"),p.innerHTML=j,N=O(),c=B("div"),v=O(),f&&f.c(),g=O(),d&&d.c(),this.h()},l(m){l=E(m,"DIV",{class:!0});var h=P(l);V(i.$$.fragment,h),a=T(h),t=E(h,"DIV",{style:!0,class:!0});var M=P(t);V(o.$$.fragment,M),M.forEach(k),n=T(h),e=E(h,"DIV",{style:!0,class:!0});var $=P(e);r=E($,"DIV",{style:!0,class:!0});var W=P(r);p=E(W,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),x(p)!=="svelte-tobbdy"&&(p.innerHTML=j),W.forEach(k),N=T($),c=E($,"DIV",{style:!0,class:!0}),P(c).forEach(k),v=T($),f&&f.l($),g=T($),d&&d.l($),$.forEach(k),h.forEach(k),this.h()},h(){u(t,"width","100%"),u(t,"display","inline-table"),u(t,"margin","auto"),u(t,"margin-top","141px"),H(t,"class","svelte-13vb4iy"),H(p,"class","blogBtn svelte-13vb4iy"),u(p,"width","fit-content"),u(r,"width","100%"),u(r,"margin","50px 0"),u(r,"display","flex"),u(r,"justify-content","center"),H(r,"class","svelte-13vb4iy"),u(c,"margin-top","120px"),H(c,"class","svelte-13vb4iy"),u(e,"display","flex"),u(e,"justify-content","center"),u(e,"flex-direction","column"),u(e,"gap","40px"),u(e,"align-items","center"),u(e,"justify-content","center"),u(e,"width","100%"),u(e,"display","flex"),u(e,"flex-direction","column"),u(e,"align-items","center"),H(e,"class","svelte-13vb4iy"),H(l,"class","postesCont svelte-13vb4iy")},m(m,h){K(m,l,h),C(i,l,null),w(l,a),w(l,t),C(o,t,null),w(l,n),w(l,e),w(e,r),w(r,p),w(e,N),w(e,c),w(e,v),f&&f.m(e,null),w(e,g),d&&d.m(e,null),b=!0,D||(I=ee(p,"click",s[4]),D=!0)},p(m,[h]){m[1]?f?(f.p(m,h),h&2&&_(f,1)):(f=U(m),f.c(),_(f,1),f.m(e,g)):f&&(J(),y(f,1,1,()=>{f=null}),F()),m[0].length>0?d?(d.p(m,h),h&1&&_(d,1)):(d=X(m),d.c(),_(d,1),d.m(e,null)):d&&(J(),y(d,1,1,()=>{d=null}),F())},i(m){b||(_(i.$$.fragment,m),_(o.$$.fragment,m),_(f),_(d),b=!0)},o(m){y(i.$$.fragment,m),y(o.$$.fragment,m),y(f),y(d),b=!1},d(m){m&&k(l),L(i),L(o),f&&f.d(),d&&d.d(),D=!1,I()}}}const ce=()=>{};function de(s,l,i){async function a(c,v,g){const{default:b}=await Y(async()=>{const{default:f}=await import("../chunks/Loading.PBQpAKiI.js");return{default:f}},__vite__mapDeps([0,1,2]),import.meta.url);new b({target:document.getElementById("nots")});const D=await fetch("http://3.29.235.228:3000/api/"+c,{method:"POST",mode:"cors",credentials:"include",headers:{},body:v});if(!D.ok)throw new ie({props:{duration:10,msg:"حدثت مشكلة اثناء الاتصال بالسيرفر الرجاء اعادة تحميل الصفحة"},target:document.getElementById("nots")}),document.getElementById("loadingWindow").remove(),new Error(`HTTP error! Status: ${D.status}`);let I="";try{return I=await D.json(),document.getElementById("loadingWindow").remove(),I}catch{}return g&&g(),document.getElementById("loadingWindow").remove(),I}let{data:t={blogs:[]}}=l,o=[],n=!1;te(()=>{document.body.style.overflowX="hidden",i(0,o=t.blogs),console.log(o)});const e=()=>{console.log("making new blog"),i(1,n=!0)},r=(c,v,g)=>{let b=new FormData;b.append("body",JSON.stringify({bd:g,title:v})),b.append("files",c),a("a/nb",b).then(()=>{z("تم انشاء منشور جديد","cornflowerblue")}),i(1,n=!1)},p=()=>{i(1,n=!1)},j=(c,v)=>{let g=new FormData;g.append("body",JSON.stringify(Object({id:c.blogID,bd:c.blogDetails,title:c.title}))),console.log(v),g.append("files",v),a("a/ub",g).then(()=>{z("تم تحديث المنشور","cornflowerblue")})},N=(c,v)=>{let g=new FormData;g.append("body",JSON.stringify(Object({bid:c.blogID}))),console.log(c),re("هل انت متأكد من حذف المنشور؟",async()=>{await a("a/db",g).then(()=>{z("تم حذف المنشور","cornflowerblue"),i(0,o=o.filter(b=>b!=c))})})};return s.$$set=c=>{"data"in c&&i(3,t=c.data)},[o,n,a,t,e,r,p,j,N]}class $e extends le{constructor(l){super(),ae(this,l,de,fe,Z,{data:3})}}export{$e as component};
