{"version":3,"file":"_page.svelte-BMjamk9n.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/admin/blogs/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, v as validate_component, d as each } from \"../../../../chunks/ssr.js\";\nimport { B as Bar } from \"../../../../chunks/Bar.js\";\nimport { B as BlogCard } from \"../../../../chunks/BlogCard.js\";\n/* empty css                                                    */\nimport { s as showNotification, a as showConfirmation } from \"../../../../chunks/not.js\";\n/* empty css                                                      */\nimport NotificationBubble from \"../../../../chunks/NotificationBubble.js\";\nconst css = {\n  code: '.svelte-13vb4iy::-webkit-scrollbar{width:8px}.svelte-13vb4iy::-webkit-scrollbar-track{background-color:transparent}.svelte-13vb4iy::-webkit-scrollbar-thumb{background-color:#2E3B6F;border-radius:10px}.svelte-13vb4iy::-webkit-scrollbar-thumb:hover{background-color:#39879b}.postesCont.svelte-13vb4iy{width:100%;display:flex;flex-direction:column;align-items:center;margin:35px 0}.blogBtn.svelte-13vb4iy{width:35px;height:35px;border:none;border-radius:7px;background:#e6e7ee;box-shadow:2px 2px 5px #00000040, -2px -2px 5px #fff;cursor:pointer;margin:5px;display:flex;align-items:center;justify-content:center;color:#2E3B6F;font-family:\"Poppins\";font-size:14px;font-weight:600}.blogBtn.svelte-13vb4iy:active{box-shadow:inset 2px 2px 5px #00000040, inset -2px -2px 5px #fff}',\n  map: null\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  async function fetchData(url, body, res) {\n    const { default: Loading } = await import(\"../../../../chunks/Loading.js\");\n    new Loading({ target: document.getElementById(\"nots\") });\n    const response = await fetch(\"https://echo-dent.net/api/\" + url, {\n      method: \"POST\",\n      mode: \"cors\",\n      credentials: \"include\",\n      headers: {},\n      // 'Content-Type': 'application/form-data',\n      //  \"Access-Control-Allow-Credentials\":true\n      // Add any additional headers as needed\n      // Replace with your actual JSON payload\n      body\n    });\n    if (!response.ok) {\n      new NotificationBubble({\n        props: {\n          duration: 10,\n          msg: \"حدثت مشكلة اثناء الاتصال بالسيرفر الرجاء اعادة تحميل الصفحة\"\n        },\n        target: document.getElementById(\"nots\")\n      });\n      document.getElementById(\"loadingWindow\").remove();\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    let e = \"\";\n    try {\n      e = await response.json();\n      document.getElementById(\"loadingWindow\").remove();\n      return e;\n    } catch (error) {\n    }\n    document.getElementById(\"loadingWindow\").remove();\n    return e;\n  }\n  let { data = { blogs: [] } } = $$props;\n  let blogs = [];\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  $$result.css.add(css);\n  return `${validate_component(Bar, \"Bar\").$$render($$result, { title: \"Blog\" }, {}, {})} <div class=\"postesCont svelte-13vb4iy\"><div style=\"display: flex;justify-content:center;flex-direction:column;gap:40px;align-items:center;justify-content:center; width: 100%; display: flex; flex-direction: column; align-items: center; \" class=\"svelte-13vb4iy\"> <div style=\"width: 100%; margin: 50px 0; display: flex;justify-content: center;\" class=\"svelte-13vb4iy\"><button class=\"blogBtn svelte-13vb4iy\" style=\"width: fit-content;\" data-svelte-h=\"svelte-tobbdy\">Add New Post <span style=\"font-size: 20px;\" class=\"svelte-13vb4iy\">+</span></button></div> <div style=\"margin-top:120px\" class=\"svelte-13vb4iy\"></div> ${``} ${blogs.length > 0 ? `${each(blogs.reverse(), (blog) => {\n    return `${validate_component(BlogCard, \"BlogCard\").$$render(\n      $$result,\n      {\n        state: 1,\n        title: blog.title,\n        ID: blog.ID,\n        date: new Date(blog.date),\n        saveHandler: (e) => {\n          let n = new FormData();\n          n.append(\"body\", JSON.stringify(Object({\n            \"id\": blog.blogID,\n            \"bd\": blog.blogDetails,\n            \"title\": blog.title\n          })));\n          console.log(e);\n          n.append(\"files\", e);\n          fetchData(\"a/ub\", n).then(() => {\n            showNotification(\"تم تحديث المنشور\", \"cornflowerblue\");\n          });\n        },\n        deleteHandler: (e) => {\n          let n = new FormData();\n          n.append(\"body\", JSON.stringify(Object({ \"bid\": blog.blogID })));\n          console.log(blog);\n          showConfirmation(\"هل انت متأكد من حذف المنشور؟\", async () => {\n            await fetchData(\"a/db\", n).then(() => {\n              showNotification(\"تم حذف المنشور\", \"cornflowerblue\");\n              blogs = blogs.filter((s) => s != blog);\n            });\n          });\n        },\n        details: blog.blogDetails,\n        url: \"https://echo-dentists.s3.me-central-1.amazonaws.com/blogs/\" + blog.blogID,\n        cancelHandler: () => {\n        }\n      },\n      {},\n      {}\n    )}`;\n  })}` : ``}</div></div>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}