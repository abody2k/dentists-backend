import{s as E,a as p,i as q,d as D,o as J}from"../chunks/scheduler.C7Xo_3aa.js";import{S as P,i as R,t,b as u,e as T,g as S,c as b,a as w,m as h,d as k}from"../chunks/index.NYh16Rov.js";import{f as N,s as v}from"../chunks/not.CMcaOXzY.js";import{U as z,a as B,b as F,c as G,d as K}from"../chunks/UserResults.zS2NiUH_.js";function I(l){let s,f,e=l[1]!=null&&A(l);return{c(){e&&e.c(),s=p()},l(n){e&&e.l(n),s=p()},m(n,r){e&&e.m(n,r),q(n,s,r),f=!0},p(n,r){n[1]!=null?e?(e.p(n,r),r&2&&t(e,1)):(e=A(n),e.c(),t(e,1),e.m(s.parentNode,s)):e&&(S(),u(e,1,1,()=>{e=null}),T())},i(n){f||(t(e),f=!0)},o(n){u(e),f=!1},d(n){n&&D(s),e&&e.d(n)}}}function A(l){let s,f,e,n;const r=[Y,X,W,V,L],a=[];function m(o,g){return o[0]==0?0:o[0]==1&&o[1]?1:o[0]==2&&o[1].q?2:o[0]==3&&o[1].q?3:o[0]==4?4:-1}return~(s=m(l))&&(f=a[s]=r[s](l)),{c(){f&&f.c(),e=p()},l(o){f&&f.l(o),e=p()},m(o,g){~s&&a[s].m(o,g),q(o,e,g),n=!0},p(o,g){let c=s;s=m(o),s===c?~s&&a[s].p(o,g):(f&&(S(),u(a[c],1,1,()=>{a[c]=null}),T()),~s?(f=a[s],f?f.p(o,g):(f=a[s]=r[s](o),f.c()),t(f,1),f.m(e.parentNode,e)):f=null)},i(o){n||(t(f),n=!0)},o(o){u(f),n=!1},d(o){o&&D(e),~s&&a[s].d(o)}}}function L(l){let s,f;return s=new z({props:{myScore:l[1].myScore,reviewAnswers:l[13],results:l[1].na?l[1].na.map(l[14]):null,ending:l[1].en,startingDate:l[1].sd,examTitle:l[1].title,viewingAnswers:l[3],level:l[1].l}}),{c(){b(s.$$.fragment)},l(e){w(s.$$.fragment,e)},m(e,n){h(s,e,n),f=!0},p(e,n){const r={};n&2&&(r.myScore=e[1].myScore),n&1&&(r.reviewAnswers=e[13]),n&2&&(r.results=e[1].na?e[1].na.map(e[14]):null),n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&8&&(r.viewingAnswers=e[3]),n&2&&(r.level=e[1].l),s.$set(r)},i(e){f||(t(s.$$.fragment,e),f=!0)},o(e){u(s.$$.fragment,e),f=!1},d(e){k(s,e)}}}function V(l){let s,f;return s=new B({props:{ending:l[1].en,startingDate:l[1].sd,examTitle:l[1].title,level:l[1].l,review:l[11],submit:l[12]}}),{c(){b(s.$$.fragment)},l(e){w(s.$$.fragment,e)},m(e,n){h(s,e,n),f=!0},p(e,n){const r={};n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),n&1&&(r.review=e[11]),n&6&&(r.submit=e[12]),s.$set(r)},i(e){f||(t(s.$$.fragment,e),f=!0)},o(e){u(s.$$.fragment,e),f=!1},d(e){k(s,e)}}}function W(l){let s,f;return s=new F({props:{numOfMissing:l[1].ans.filter(O).length,numOfQ:l[1].ans.length,backToQuestions:l[9],submit:l[10]}}),{c(){b(s.$$.fragment)},l(e){w(s.$$.fragment,e)},m(e,n){h(s,e,n),f=!0},p(e,n){const r={};n&2&&(r.numOfMissing=e[1].ans.filter(O).length),n&2&&(r.numOfQ=e[1].ans.length),n&1&&(r.backToQuestions=e[9]),n&7&&(r.submit=e[10]),s.$set(r)},i(e){f||(t(s.$$.fragment,e),f=!0)},o(e){u(s.$$.fragment,e),f=!1},d(e){k(s,e)}}}function X(l){let s,f;return s=new G({props:{rightAnswers:l[1].ans,viewingAnswers:l[3],answers:l[3]?l[1].uans[0].answer:l[1].ans,goHome:l[7],questions:l[3]?l[1].qu:l[1].q,save:l[8]}}),{c(){b(s.$$.fragment)},l(e){w(s.$$.fragment,e)},m(e,n){h(s,e,n),f=!0},p(e,n){const r={};n&2&&(r.rightAnswers=e[1].ans),n&8&&(r.viewingAnswers=e[3]),n&10&&(r.answers=e[3]?e[1].uans[0].answer:e[1].ans),n&9&&(r.goHome=e[7]),n&10&&(r.questions=e[3]?e[1].qu:e[1].q),n&11&&(r.save=e[8]),s.$set(r)},i(e){f||(t(s.$$.fragment,e),f=!0)},o(e){u(s.$$.fragment,e),f=!1},d(e){k(s,e)}}}function Y(l){let s,f;return s=new K({props:{available:!!l[1].q,getStarted:l[6],ending:l[1].en,startingDate:l[1].sd,examTitle:l[1].title,level:l[1].l,note:l[1].n}}),{c(){b(s.$$.fragment)},l(e){w(s.$$.fragment,e)},m(e,n){h(s,e,n),f=!0},p(e,n){const r={};n&2&&(r.available=!!e[1].q),n&1&&(r.getStarted=e[6]),n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),n&2&&(r.note=e[1].n),s.$set(r)},i(e){f||(t(s.$$.fragment,e),f=!0)},o(e){u(s.$$.fragment,e),f=!1},d(e){k(s,e)}}}function Z(l){let s,f,e=l[4]&&I(l);return{c(){e&&e.c(),s=p()},l(n){e&&e.l(n),s=p()},m(n,r){e&&e.m(n,r),q(n,s,r),f=!0},p(n,[r]){n[4]?e?(e.p(n,r),r&16&&t(e,1)):(e=I(n),e.c(),t(e,1),e.m(s.parentNode,s)):e&&(S(),u(e,1,1,()=>{e=null}),T())},i(n){f||(t(e),f=!0)},o(n){u(e),f=!1},d(n){n&&D(s),e&&e.d(n)}}}const O=l=>!l.includes(!0);function d(l,s,f){let{data:e}=s,n=0,r,a,m=!1,o=!1;J(()=>{f(4,o=!0),f(2,a=e.params),console.log(e),N("u/gexqf",{fellowshipID:Number(a.fellowship),examType:Number(a.examType),examID:Number(a.examID)}).then(i=>{f(1,r=i),i.q?(f(1,r.ans=r.q.map(_=>[...Array(_.ans.length)].fill(!1)),r),console.log(r)):i.m?(f(1,r.myScore=i.m,r),f(0,n=4),i.uans&&f(3,m=!0)):i.r?i.r.length>0&&(f(1,r.myScore=r.r.filter(_=>_.i==Number(localStorage.getItem("i")))[0].grade,r),console.log(r),i.uans&&f(3,m=!0),f(0,n=4)):f(0,n=4)})});const g=()=>{f(0,n=1)},c=()=>{if(m){f(0,n=4);return}f(0,n=0)},U=()=>{if(m){f(0,n=4);return}localStorage.setItem("exams",JSON.stringify({q:r.q,ans:r.ans})),r.ans.length>0&&(console.log(r.ans),console.log(r.ans.filter(i=>!i.includes(!0))),r.ans.filter(i=>!i.includes(!0)).length>0?f(0,n=2):f(0,n=3),console.log("this is mode"),console.log(n))},Q=()=>{f(0,n=1)},$=()=>{N(`u/${Number(a.examType)==1?"spa":Number(a.examType)==2?"ssa":a.examType==0?"sfexa":"sfa"}`,{t:1,i:Number(a.examID),ID:Number(location.href.split("/")[4]),ans:r.ans}).then(()=>{f(0,n=4)})},M=()=>{f(0,n=1)},H=()=>{console.log({t:1,i:Number(a.examID),ID:Number(location.href.split("/")[4]),ans:r.ans.map(i=>i.map(_=>[_]))}),N(`u/${Number(a.examType)==1?"spa":Number(a.examType)==2?"ssa":a.examType==0?"sfexa":"sfa"}`,{t:1,i:Number(a.examID),ID:Number(location.href.split("/")[4]),ans:r.ans}).catch(()=>{v("لقد قمت بتسليم النتيجة مسبقا")}).then(()=>{location.reload()})},j=()=>{f(0,n=1)},C=i=>Object({n:i.n,grade:r.r.find(_=>_.i==i.i).grade});return l.$$set=i=>{"data"in i&&f(5,e=i.data)},[n,r,a,m,o,e,g,c,U,Q,$,M,H,j,C]}class se extends P{constructor(s){super(),R(this,s,d,Z,E,{data:5})}}export{se as component};
