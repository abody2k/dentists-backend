import{s as H,a as k,i as $,d as T,o as d}from"../chunks/scheduler.C7Xo_3aa.js";import{S as j,i as v,t as i,b as u,e as S,g as I,c,a as b,m as h,d as w}from"../chunks/index.NYh16Rov.js";import{f as q,s as C}from"../chunks/not.BKXOq_6H.js";import{U as E,a as J,b as P,c as R,d as z}from"../chunks/UserResults.DaWBdUIh.js";function N(l){let s,a,e,n;const r=[L,K,G,F,B],o=[];function g(t,m){return t[0]==0?0:t[0]==1&&t[1]?1:t[0]==2&&t[1].q?2:t[0]==3&&t[1].q?3:t[0]==4?4:-1}return~(s=g(l))&&(a=o[s]=r[s](l)),{c(){a&&a.c(),e=k()},l(t){a&&a.l(t),e=k()},m(t,m){~s&&o[s].m(t,m),$(t,e,m),n=!0},p(t,m){let p=s;s=g(t),s===p?~s&&o[s].p(t,m):(a&&(I(),u(o[p],1,1,()=>{o[p]=null}),S()),~s?(a=o[s],a?a.p(t,m):(a=o[s]=r[s](t),a.c()),i(a,1),a.m(e.parentNode,e)):a=null)},i(t){n||(i(a),n=!0)},o(t){u(a),n=!1},d(t){t&&T(e),~s&&o[s].d(t)}}}function B(l){let s,a;return s=new E({props:{myScore:l[1].myScore,results:l[1].na?l[1].na.map(l[12]):null,ending:l[1].en,startingDate:l[1].sd,examTitle:l[1].title,level:l[1].l}}),{c(){c(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,n){h(s,e,n),a=!0},p(e,n){const r={};n&2&&(r.myScore=e[1].myScore),n&2&&(r.results=e[1].na?e[1].na.map(e[12]):null),n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),s.$set(r)},i(e){a||(i(s.$$.fragment,e),a=!0)},o(e){u(s.$$.fragment,e),a=!1},d(e){w(s,e)}}}function F(l){let s,a;return s=new J({props:{ending:l[1].en,startingDate:l[1].sd,examTitle:l[1].title,level:l[1].l,review:l[10],submit:l[11]}}),{c(){c(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,n){h(s,e,n),a=!0},p(e,n){const r={};n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),n&1&&(r.review=e[10]),n&6&&(r.submit=e[11]),s.$set(r)},i(e){a||(i(s.$$.fragment,e),a=!0)},o(e){u(s.$$.fragment,e),a=!1},d(e){w(s,e)}}}function G(l){let s,a;return s=new P({props:{numOfMissing:l[1].ans.filter(D).length,numOfQ:l[1].ans.length,backToQuestions:l[8],submit:l[9]}}),{c(){c(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,n){h(s,e,n),a=!0},p(e,n){const r={};n&2&&(r.numOfMissing=e[1].ans.filter(D).length),n&2&&(r.numOfQ=e[1].ans.length),n&1&&(r.backToQuestions=e[8]),n&7&&(r.submit=e[9]),s.$set(r)},i(e){a||(i(s.$$.fragment,e),a=!0)},o(e){u(s.$$.fragment,e),a=!1},d(e){w(s,e)}}}function K(l){let s,a;return s=new R({props:{rightAnswers:l[1].ans,viewingAnswers:l[3],answers:l[3]?l[1].uans[0].answer:l[1].ans,goHome:l[6],questions:l[3]?l[1].qu:l[1].q,save:l[7]}}),{c(){c(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,n){h(s,e,n),a=!0},p(e,n){const r={};n&2&&(r.rightAnswers=e[1].ans),n&8&&(r.viewingAnswers=e[3]),n&10&&(r.answers=e[3]?e[1].uans[0].answer:e[1].ans),n&9&&(r.goHome=e[6]),n&10&&(r.questions=e[3]?e[1].qu:e[1].q),n&11&&(r.save=e[7]),s.$set(r)},i(e){a||(i(s.$$.fragment,e),a=!0)},o(e){u(s.$$.fragment,e),a=!1},d(e){w(s,e)}}}function L(l){let s,a;return s=new z({props:{available:!!l[1].q,getStarted:l[5],ending:l[1].en,startingDate:l[1].sd,examTitle:l[1].title,level:l[1].l,note:l[1].n}}),{c(){c(s.$$.fragment)},l(e){b(s.$$.fragment,e)},m(e,n){h(s,e,n),a=!0},p(e,n){const r={};n&2&&(r.available=!!e[1].q),n&1&&(r.getStarted=e[5]),n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),n&2&&(r.note=e[1].n),s.$set(r)},i(e){a||(i(s.$$.fragment,e),a=!0)},o(e){u(s.$$.fragment,e),a=!1},d(e){w(s,e)}}}function V(l){let s,a,e=l[1]!=null&&N(l);return{c(){e&&e.c(),s=k()},l(n){e&&e.l(n),s=k()},m(n,r){e&&e.m(n,r),$(n,s,r),a=!0},p(n,[r]){n[1]!=null?e?(e.p(n,r),r&2&&i(e,1)):(e=N(n),e.c(),i(e,1),e.m(s.parentNode,s)):e&&(I(),u(e,1,1,()=>{e=null}),S())},i(n){a||(i(e),a=!0)},o(n){u(e),a=!1},d(n){n&&T(s),e&&e.d(n)}}}const D=l=>!l.includes(!0);function W(l,s,a){let{data:e}=s,n=0,r,o,g=!1;d(()=>{a(2,o=e.params),console.log(e),q("u/gexqf",{fellowshipID:Number(o.fellowship),examType:Number(o.examType),examID:Number(o.examID)}).then(f=>{a(1,r=f),f.q?(a(1,r.ans=r.q.map(_=>[...Array(_.ans.length)].fill(!1)),r),console.log(r)):f.r?f.r.length>0&&(a(1,r.myScore=r.r.filter(_=>_.i==Number(localStorage.getItem("i")))[0].grade,r),console.log(r),f.uans&&a(3,g=!0),a(0,n=4)):a(0,n=4)})});const t=()=>{a(0,n=1)},m=()=>{if(g){a(0,n=4);return}a(0,n=0)},p=()=>{if(g){a(0,n=4);return}localStorage.setItem("exams",JSON.stringify({q:r.q,ans:r.ans})),r.ans.length>0&&(console.log(r.ans),console.log(r.ans.filter(f=>!f.includes(!0))),r.ans.filter(f=>!f.includes(!0)).length>0?a(0,n=2):a(0,n=3),console.log("this is mode"),console.log(n))},A=()=>{a(0,n=1)},O=()=>{q(`u/${Number(o.examType)==1?"spa":Number(o.examType)==2?"ssa":"sfa"}`,{t:1,i:Number(o.examID),ID:Number(location.href.split("/")[4]),ans:r.ans}).then(()=>{a(0,n=4)})},U=()=>{a(0,n=1)},Q=()=>{console.log({t:1,i:Number(o.examID),ID:Number(location.href.split("/")[4]),ans:r.ans.map(f=>f.map(_=>[_]))}),q(`u/${Number(o.examType)==1?"spa":Number(o.examType)==2?"ssa":"sfa"}`,{t:1,i:Number(o.examID),ID:Number(location.href.split("/")[4]),ans:r.ans}).catch(()=>{C("لقد قمت بتسليم النتيجة مسبقا")}).then(()=>{location.reload()})},M=f=>Object({n:f.n,grade:r.r.find(_=>_.i==f.i).grade});return l.$$set=f=>{"data"in f&&a(4,e=f.data)},[n,r,o,g,e,t,m,p,A,O,U,Q,M]}class x extends j{constructor(s){super(),v(this,s,W,V,H,{data:4})}}export{x as component};
