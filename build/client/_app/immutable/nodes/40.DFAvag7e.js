import{s as j,a as c,i as q,d as D,o as C}from"../chunks/scheduler.C7Xo_3aa.js";import{S as E,i as J,t as i,b as u,e as T,g as S,c as b,a as h,m as w,d as k}from"../chunks/index.NYh16Rov.js";import{f as N,s as P}from"../chunks/not.CMcaOXzY.js";import{U as R,a as v,b as z,c as B,d as F}from"../chunks/UserResults.Cfj21TKz.js";function $(f){let s,l,e=f[1]!=null&&I(f);return{c(){e&&e.c(),s=c()},l(n){e&&e.l(n),s=c()},m(n,r){e&&e.m(n,r),q(n,s,r),l=!0},p(n,r){n[1]!=null?e?(e.p(n,r),r&2&&i(e,1)):(e=I(n),e.c(),i(e,1),e.m(s.parentNode,s)):e&&(S(),u(e,1,1,()=>{e=null}),T())},i(n){l||(i(e),l=!0)},o(n){u(e),l=!1},d(n){n&&D(s),e&&e.d(n)}}}function I(f){let s,l,e,n;const r=[W,V,L,K,G],o=[];function g(a,m){return a[0]==0?0:a[0]==1&&a[1]?1:a[0]==2&&a[1].q?2:a[0]==3&&a[1].q?3:a[0]==4?4:-1}return~(s=g(f))&&(l=o[s]=r[s](f)),{c(){l&&l.c(),e=c()},l(a){l&&l.l(a),e=c()},m(a,m){~s&&o[s].m(a,m),q(a,e,m),n=!0},p(a,m){let p=s;s=g(a),s===p?~s&&o[s].p(a,m):(l&&(S(),u(o[p],1,1,()=>{o[p]=null}),T()),~s?(l=o[s],l?l.p(a,m):(l=o[s]=r[s](a),l.c()),i(l,1),l.m(e.parentNode,e)):l=null)},i(a){n||(i(l),n=!0)},o(a){u(l),n=!1},d(a){a&&D(e),~s&&o[s].d(a)}}}function G(f){let s,l;return s=new R({props:{myScore:f[1].myScore,results:f[1].na?f[1].na.map(f[13]):null,ending:f[1].en,startingDate:f[1].sd,examTitle:f[1].title,level:f[1].l}}),{c(){b(s.$$.fragment)},l(e){h(s.$$.fragment,e)},m(e,n){w(s,e,n),l=!0},p(e,n){const r={};n&2&&(r.myScore=e[1].myScore),n&2&&(r.results=e[1].na?e[1].na.map(e[13]):null),n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),s.$set(r)},i(e){l||(i(s.$$.fragment,e),l=!0)},o(e){u(s.$$.fragment,e),l=!1},d(e){k(s,e)}}}function K(f){let s,l;return s=new v({props:{ending:f[1].en,startingDate:f[1].sd,examTitle:f[1].title,level:f[1].l,review:f[11],submit:f[12]}}),{c(){b(s.$$.fragment)},l(e){h(s.$$.fragment,e)},m(e,n){w(s,e,n),l=!0},p(e,n){const r={};n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),n&1&&(r.review=e[11]),n&6&&(r.submit=e[12]),s.$set(r)},i(e){l||(i(s.$$.fragment,e),l=!0)},o(e){u(s.$$.fragment,e),l=!1},d(e){k(s,e)}}}function L(f){let s,l;return s=new z({props:{numOfMissing:f[1].ans.filter(A).length,numOfQ:f[1].ans.length,backToQuestions:f[9],submit:f[10]}}),{c(){b(s.$$.fragment)},l(e){h(s.$$.fragment,e)},m(e,n){w(s,e,n),l=!0},p(e,n){const r={};n&2&&(r.numOfMissing=e[1].ans.filter(A).length),n&2&&(r.numOfQ=e[1].ans.length),n&1&&(r.backToQuestions=e[9]),n&7&&(r.submit=e[10]),s.$set(r)},i(e){l||(i(s.$$.fragment,e),l=!0)},o(e){u(s.$$.fragment,e),l=!1},d(e){k(s,e)}}}function V(f){let s,l;return s=new B({props:{rightAnswers:f[1].ans,viewingAnswers:f[3],answers:f[3]?f[1].uans[0].answer:f[1].ans,goHome:f[7],questions:f[3]?f[1].qu:f[1].q,save:f[8]}}),{c(){b(s.$$.fragment)},l(e){h(s.$$.fragment,e)},m(e,n){w(s,e,n),l=!0},p(e,n){const r={};n&2&&(r.rightAnswers=e[1].ans),n&8&&(r.viewingAnswers=e[3]),n&10&&(r.answers=e[3]?e[1].uans[0].answer:e[1].ans),n&9&&(r.goHome=e[7]),n&10&&(r.questions=e[3]?e[1].qu:e[1].q),n&11&&(r.save=e[8]),s.$set(r)},i(e){l||(i(s.$$.fragment,e),l=!0)},o(e){u(s.$$.fragment,e),l=!1},d(e){k(s,e)}}}function W(f){let s,l;return s=new F({props:{available:!!f[1].q,getStarted:f[6],ending:f[1].en,startingDate:f[1].sd,examTitle:f[1].title,level:f[1].l,note:f[1].n}}),{c(){b(s.$$.fragment)},l(e){h(s.$$.fragment,e)},m(e,n){w(s,e,n),l=!0},p(e,n){const r={};n&2&&(r.available=!!e[1].q),n&1&&(r.getStarted=e[6]),n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),n&2&&(r.note=e[1].n),s.$set(r)},i(e){l||(i(s.$$.fragment,e),l=!0)},o(e){u(s.$$.fragment,e),l=!1},d(e){k(s,e)}}}function X(f){let s,l,e=f[4]&&$(f);return{c(){e&&e.c(),s=c()},l(n){e&&e.l(n),s=c()},m(n,r){e&&e.m(n,r),q(n,s,r),l=!0},p(n,[r]){n[4]?e?(e.p(n,r),r&16&&i(e,1)):(e=$(n),e.c(),i(e,1),e.m(s.parentNode,s)):e&&(S(),u(e,1,1,()=>{e=null}),T())},i(n){l||(i(e),l=!0)},o(n){u(e),l=!1},d(n){n&&D(s),e&&e.d(n)}}}const A=f=>!f.includes(!0);function Y(f,s,l){let{data:e}=s,n=0,r,o,g=!1,a=!1;C(()=>{l(4,a=!0),l(2,o=e.params),console.log(e),N("u/gexqf",{fellowshipID:Number(o.fellowship),examType:Number(o.examType),examID:Number(o.examID)}).then(t=>{l(1,r=t),t.q?(l(1,r.ans=r.q.map(_=>[...Array(_.ans.length)].fill(!1)),r),console.log(r)):t.r?t.r.length>0&&(l(1,r.myScore=r.r.filter(_=>_.i==Number(localStorage.getItem("i")))[0].grade,r),console.log(r),t.uans&&l(3,g=!0),l(0,n=4)):l(0,n=4)})});const m=()=>{l(0,n=1)},p=()=>{if(g){l(0,n=4);return}l(0,n=0)},O=()=>{if(g){l(0,n=4);return}localStorage.setItem("exams",JSON.stringify({q:r.q,ans:r.ans})),r.ans.length>0&&(console.log(r.ans),console.log(r.ans.filter(t=>!t.includes(!0))),r.ans.filter(t=>!t.includes(!0)).length>0?l(0,n=2):l(0,n=3),console.log("this is mode"),console.log(n))},U=()=>{l(0,n=1)},Q=()=>{N(`u/${Number(o.examType)==1?"spa":Number(o.examType)==2?"ssa":"sfa"}`,{t:1,i:Number(o.examID),ID:Number(location.href.split("/")[4]),ans:r.ans}).then(()=>{l(0,n=4)})},M=()=>{l(0,n=1)},d=()=>{console.log({t:1,i:Number(o.examID),ID:Number(location.href.split("/")[4]),ans:r.ans.map(t=>t.map(_=>[_]))}),N(`u/${Number(o.examType)==1?"spa":Number(o.examType)==2?"ssa":"sfa"}`,{t:1,i:Number(o.examID),ID:Number(location.href.split("/")[4]),ans:r.ans}).catch(()=>{P("لقد قمت بتسليم النتيجة مسبقا")}).then(()=>{location.reload()})},H=t=>Object({n:t.n,grade:r.r.find(_=>_.i==t.i).grade});return f.$$set=t=>{"data"in t&&l(5,e=t.data)},[n,r,o,g,a,e,m,p,O,U,Q,M,d,H]}class ne extends E{constructor(s){super(),J(this,s,Y,X,j,{data:5})}}export{ne as component};
