import{s as C,a as p,i as q,d as D,o as E}from"../chunks/scheduler.C7Xo_3aa.js";import{S as J,i as P,t,b as u,e as T,g as S,c as b,a as w,m as h,d as k}from"../chunks/index.NYh16Rov.js";import{f as N,s as R}from"../chunks/not.CMcaOXzY.js";import{U as z,a as B,b as F,c as G,d as K}from"../chunks/UserResults.zS2NiUH_.js";function I(f){let s,l,e=f[1]!=null&&A(f);return{c(){e&&e.c(),s=p()},l(n){e&&e.l(n),s=p()},m(n,r){e&&e.m(n,r),q(n,s,r),l=!0},p(n,r){n[1]!=null?e?(e.p(n,r),r&2&&t(e,1)):(e=A(n),e.c(),t(e,1),e.m(s.parentNode,s)):e&&(S(),u(e,1,1,()=>{e=null}),T())},i(n){l||(t(e),l=!0)},o(n){u(e),l=!1},d(n){n&&D(s),e&&e.d(n)}}}function A(f){let s,l,e,n;const r=[Y,X,W,V,L],a=[];function m(o,g){return o[0]==0?0:o[0]==1&&o[1]?1:o[0]==2&&o[1].q?2:o[0]==3&&o[1].q?3:o[0]==4?4:-1}return~(s=m(f))&&(l=a[s]=r[s](f)),{c(){l&&l.c(),e=p()},l(o){l&&l.l(o),e=p()},m(o,g){~s&&a[s].m(o,g),q(o,e,g),n=!0},p(o,g){let c=s;s=m(o),s===c?~s&&a[s].p(o,g):(l&&(S(),u(a[c],1,1,()=>{a[c]=null}),T()),~s?(l=a[s],l?l.p(o,g):(l=a[s]=r[s](o),l.c()),t(l,1),l.m(e.parentNode,e)):l=null)},i(o){n||(t(l),n=!0)},o(o){u(l),n=!1},d(o){o&&D(e),~s&&a[s].d(o)}}}function L(f){let s,l;return s=new z({props:{myScore:f[1].myScore,reviewAnswers:f[13],results:f[1].na?f[1].na.map(f[14]):null,ending:f[1].en,startingDate:f[1].sd,examTitle:f[1].title,viewingAnswers:f[3],level:f[1].l}}),{c(){b(s.$$.fragment)},l(e){w(s.$$.fragment,e)},m(e,n){h(s,e,n),l=!0},p(e,n){const r={};n&2&&(r.myScore=e[1].myScore),n&1&&(r.reviewAnswers=e[13]),n&2&&(r.results=e[1].na?e[1].na.map(e[14]):null),n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&8&&(r.viewingAnswers=e[3]),n&2&&(r.level=e[1].l),s.$set(r)},i(e){l||(t(s.$$.fragment,e),l=!0)},o(e){u(s.$$.fragment,e),l=!1},d(e){k(s,e)}}}function V(f){let s,l;return s=new B({props:{ending:f[1].en,startingDate:f[1].sd,examTitle:f[1].title,level:f[1].l,review:f[11],submit:f[12]}}),{c(){b(s.$$.fragment)},l(e){w(s.$$.fragment,e)},m(e,n){h(s,e,n),l=!0},p(e,n){const r={};n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),n&1&&(r.review=e[11]),n&6&&(r.submit=e[12]),s.$set(r)},i(e){l||(t(s.$$.fragment,e),l=!0)},o(e){u(s.$$.fragment,e),l=!1},d(e){k(s,e)}}}function W(f){let s,l;return s=new F({props:{numOfMissing:f[1].ans.filter(O).length,numOfQ:f[1].ans.length,backToQuestions:f[9],submit:f[10]}}),{c(){b(s.$$.fragment)},l(e){w(s.$$.fragment,e)},m(e,n){h(s,e,n),l=!0},p(e,n){const r={};n&2&&(r.numOfMissing=e[1].ans.filter(O).length),n&2&&(r.numOfQ=e[1].ans.length),n&1&&(r.backToQuestions=e[9]),n&7&&(r.submit=e[10]),s.$set(r)},i(e){l||(t(s.$$.fragment,e),l=!0)},o(e){u(s.$$.fragment,e),l=!1},d(e){k(s,e)}}}function X(f){let s,l;return s=new G({props:{rightAnswers:f[1].ans,viewingAnswers:f[3],answers:f[3]?f[1].uans[0].answer:f[1].ans,goHome:f[7],questions:f[3]?f[1].qu:f[1].q,save:f[8]}}),{c(){b(s.$$.fragment)},l(e){w(s.$$.fragment,e)},m(e,n){h(s,e,n),l=!0},p(e,n){const r={};n&2&&(r.rightAnswers=e[1].ans),n&8&&(r.viewingAnswers=e[3]),n&10&&(r.answers=e[3]?e[1].uans[0].answer:e[1].ans),n&9&&(r.goHome=e[7]),n&10&&(r.questions=e[3]?e[1].qu:e[1].q),n&11&&(r.save=e[8]),s.$set(r)},i(e){l||(t(s.$$.fragment,e),l=!0)},o(e){u(s.$$.fragment,e),l=!1},d(e){k(s,e)}}}function Y(f){let s,l;return s=new K({props:{available:!!f[1].q,getStarted:f[6],ending:f[1].en,startingDate:f[1].sd,examTitle:f[1].title,level:f[1].l,note:f[1].n}}),{c(){b(s.$$.fragment)},l(e){w(s.$$.fragment,e)},m(e,n){h(s,e,n),l=!0},p(e,n){const r={};n&2&&(r.available=!!e[1].q),n&1&&(r.getStarted=e[6]),n&2&&(r.ending=e[1].en),n&2&&(r.startingDate=e[1].sd),n&2&&(r.examTitle=e[1].title),n&2&&(r.level=e[1].l),n&2&&(r.note=e[1].n),s.$set(r)},i(e){l||(t(s.$$.fragment,e),l=!0)},o(e){u(s.$$.fragment,e),l=!1},d(e){k(s,e)}}}function Z(f){let s,l,e=f[4]&&I(f);return{c(){e&&e.c(),s=p()},l(n){e&&e.l(n),s=p()},m(n,r){e&&e.m(n,r),q(n,s,r),l=!0},p(n,[r]){n[4]?e?(e.p(n,r),r&16&&t(e,1)):(e=I(n),e.c(),t(e,1),e.m(s.parentNode,s)):e&&(S(),u(e,1,1,()=>{e=null}),T())},i(n){l||(t(e),l=!0)},o(n){u(e),l=!1},d(n){n&&D(s),e&&e.d(n)}}}const O=f=>!f.includes(!0);function d(f,s,l){let{data:e}=s,n=0,r,a,m=!1,o=!1;E(()=>{l(4,o=!0),l(2,a=e.params),console.log(e),N("u/gexqf",{fellowshipID:Number(a.fellowship),examType:Number(a.examType),examID:Number(a.examID),level:Number(a.level)}).then(i=>{l(1,r=i),i.q?(l(1,r.ans=r.q.map(_=>[...Array(_.ans.length)].fill(!1)),r),console.log(r)):i.m?(l(1,r.myScore=i.m,r),l(0,n=4),i.uans&&l(3,m=!0)):i.r?i.r.length>0&&(l(1,r.myScore=r.r.filter(_=>_.i==Number(localStorage.getItem("i")))[0].grade,r),console.log(r),i.uans&&l(3,m=!0),l(0,n=4)):l(0,n=4)})});const g=()=>{l(0,n=1)},c=()=>{if(m){l(0,n=4);return}l(0,n=0)},U=()=>{if(m){l(0,n=4);return}localStorage.setItem("exams",JSON.stringify({q:r.q,ans:r.ans})),r.ans.length>0&&(console.log(r.ans),console.log(r.ans.filter(i=>!i.includes(!0))),r.ans.filter(i=>!i.includes(!0)).length>0?l(0,n=2):l(0,n=3),console.log("this is mode"),console.log(n))},Q=()=>{l(0,n=1)},$=()=>{N(`u/${Number(a.examType)==1?"spa":Number(a.examType)==2?"ssa":a.examType==0?"sfexa":"sfa"}`,{t:1,i:Number(a.examID),ID:Number(location.href.split("/")[4]),ans:r.ans}).then(()=>{l(0,n=4)})},M=()=>{l(0,n=1)},v=()=>{console.log({t:1,i:Number(a.examID),ID:Number(location.href.split("/")[4]),ans:r.ans.map(i=>i.map(_=>[_]))}),N(`u/${Number(a.examType)==1?"spa":Number(a.examType)==2?"ssa":a.examType==0?"sfexa":"sfa"}`,{t:1,i:Number(a.examID),ID:Number(location.href.split("/")[4]),ans:r.ans}).catch(()=>{R("لقد قمت بتسليم النتيجة مسبقا")}).then(()=>{location.reload()})},H=()=>{l(0,n=1)},j=i=>Object({n:i.n,grade:r.r.find(_=>_.i==i.i).grade});return f.$$set=i=>{"data"in i&&l(5,e=i.data)},[n,r,a,m,o,e,g,c,U,Q,$,M,v,H,j]}class se extends J{constructor(s){super(),P(this,s,d,Z,C,{data:5})}}export{se as component};
