{"version":3,"file":"_page.svelte-4M_hyvz_.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/admin/blogs/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, v as validate_component, e as each } from \"../../../../chunks/ssr.js\";\nimport { B as Bar } from \"../../../../chunks/Bar.js\";\nimport { B as BlogCard } from \"../../../../chunks/BlogCard.js\";\nimport { P as Path } from \"../../../../chunks/Path.js\";\nimport { n as notification } from \"../../../../chunks/not.js\";\nimport { B as Button } from \"../../../../chunks/Button.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  async function fetchData(url, body, res) {\n    const response = await fetch(\"http://44.202.90.133:3000/api/\" + url, {\n      method: \"POST\",\n      mode: \"cors\",\n      credentials: \"include\",\n      headers: {},\n      // 'Content-Type': 'application/form-data',\n      //  \"Access-Control-Allow-Credentials\":true\n      // Add any additional headers as needed\n      // Replace with your actual JSON payload\n      body\n    });\n    if (!response.ok) {\n      notification(\"حدثت مشكلة اثناء الاتصال بالسيرفر الرجاء اعادة تحميل الصفحة\");\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    let e = \"\";\n    try {\n      e = await response.json();\n      return e;\n    } catch (error) {\n    }\n    if (res)\n      res();\n    return e;\n  }\n  let { data = { blogs: [] } } = $$props;\n  let blogs = [];\n  let makeNew = false;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  return `<div style=\"width: 100vw;\">${validate_component(Bar, \"Bar\").$$render($$result, { title: \"Blogs\" }, {}, {})} <div style=\"width: 100%; display: inline-table;margin:auto; margin-top: 141px;\">${validate_component(Path, \"Path\").$$render(\n    $$result,\n    {\n      links: [{ link: \"/\", txt: \"Home\" }, { link: \"/blogs\", txt: \"Blogs\" }]\n    },\n    {},\n    {}\n  )}</div> <div style=\"display: flex;justify-content:center;flex-direction:column;gap:40px;align-items:center;justify-content:center; width: 100%; display: flex; flex-direction: column; align-items: center; \">${validate_component(Button, \"Button\").$$render(\n    $$result,\n    {\n      text: \"منشور جديد\",\n      clickHandler: () => {\n        console.log(\"making new blog\");\n        makeNew = true;\n      }\n    },\n    {},\n    {}\n  )} <div style=\"margin-top:120px\"></div> ${makeNew ? `${validate_component(BlogCard, \"BlogCard\").$$render(\n    $$result,\n    {\n      makeNew: true,\n      uploadHandler: (img, title, detail) => {\n        let n = new FormData();\n        n.append(\"body\", JSON.stringify({ bd: detail, title }));\n        n.append(\"files\", img);\n        fetchData(\"a/nb\", n).then(() => {\n          notification(\"تم انشاء منشور جديد\");\n        });\n        makeNew = false;\n      },\n      cancelHandler: () => {\n        makeNew = false;\n      }\n    },\n    {},\n    {}\n  )}` : ``} ${blogs.length > 0 ? `${each(blogs, (blog) => {\n    return `${validate_component(BlogCard, \"BlogCard\").$$render(\n      $$result,\n      {\n        title: blog.title,\n        date: new Date(blog.date),\n        details: blog.blogDetails,\n        url: \"https://dentists-iq.s3.amazonaws.com/blogs/\" + blog.blogID,\n        cancelHandler: () => {\n          makeNew = false;\n        }\n      },\n      {},\n      {}\n    )}`;\n  })}` : ``}</div></div>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}